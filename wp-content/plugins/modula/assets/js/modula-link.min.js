!function(a){function b(b){var c,d=this,e=!1;if(this.$el=a(b),this.images=this.$el.data("images"),this.config=this.$el.data("config"),0!=this.config&&this.config){var f=jQuery.map(this.images,function(a){return{src:a.src,opts:{caption:a.opts.caption,thumb:a.opts.thumb,image_id:a.opts.image_id}}});this.config.lightboxOpts.beforeLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_load",[d,this])},this.config.lightboxOpts.afterLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_load",[d,this])},this.config.lightboxOpts.beforeShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_show",[d,this])},this.config.lightboxOpts.afterShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_show",[d,this])},this.config.lightboxOpts.beforeClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_close",[d,this])},this.config.lightboxOpts.afterClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_close",[d,this])},this.config.lightboxOpts.onInit=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_init",[d,this])},this.config.lightboxOpts.onActivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_activate",[d,this])},this.config.lightboxOpts.onDeactivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_deactivate",[d,this])},this.$el.click(function(b){b.preventDefault(),"undefined"!=typeof a.modulaFancybox&&a.modulaFancybox.open(f,d.config.lightboxOpts)}),a(document).trigger("modula_link_api_after_init",[d]),"undefined"!=typeof d.config.lightboxOpts.copyCaptionMobile&&"1"==d.config.lightboxOpts.copyCaptionMobile&&jQuery(document).on("click","html body .modula-fancybox-container .modula-fancybox-caption__body",function(b){if(e){clearTimeout(c),e=!1;var d=a("<input id='modula-temp-field'>");a("body").append(d),d.val(a(this).text()).select(),document.execCommand("copy"),d.remove()}else e=!0,c=setTimeout(function(){e=!1},300)})}}b.prototype.open=function(b){var c=this;"undefined"!=typeof a.modulaFancybox&&a.modulaFancybox.open(c.images,c.config.lightboxOpts,b)},jQuery(document).ready(function(a){var c=a(".modula-link");a.each(c,function(){new b(this)})})}(jQuery);