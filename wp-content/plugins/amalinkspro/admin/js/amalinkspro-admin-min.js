!function(a){"use strict";!function(a){var e=-1,i=-1,o=function(a){return parseFloat(a)||0},s=function(e){var i=null,s=[];return a(e).each(function(){var e=a(this),t=e.offset().top-o(e.css("margin-top")),l=0<s.length?s[s.length-1]:null;null===l?s.push(e):1>=Math.floor(Math.abs(i-t))?s[s.length-1]=l.add(e):s.push(e),i=t}),s},t=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?a.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},l=a.fn.matchHeight=function(e){if((e=t(e)).remove){var i=this;return this.css(e.property,""),a.each(l._groups,function(a,e){e.elements=e.elements.not(i)}),this}return 1>=this.length&&!e.target?this:(l._groups.push({elements:this,options:e}),l._apply(this,e),this)};l._groups=[],l._throttle=80,l._maintainScroll=!1,l._beforeUpdate=null,l._afterUpdate=null,l._apply=function(e,i){var n=t(i),r=a(e),p=[r],c=a(window).scrollTop(),d=a("html").outerHeight(!0),m=r.parents().filter(":hidden");return m.each(function(){var e=a(this);e.data("style-cache",e.attr("style"))}),m.css("display","block"),n.byRow&&!n.target&&(r.each(function(){var e=a(this),i="inline-block"===e.css("display")?"inline-block":"block";e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),p=s(r),r.each(function(){var e=a(this);e.attr("style",e.data("style-cache")||"")})),a.each(p,function(e,i){var s=a(i),t=0;if(n.target)t=n.target.outerHeight(!1);else{if(n.byRow&&1>=s.length)return void s.css(n.property,"");s.each(function(){var e=a(this),i={display:"inline-block"===e.css("display")?"inline-block":"block"};i[n.property]="",e.css(i),e.outerHeight(!1)>t&&(t=e.outerHeight(!1)),e.css("display","")})}s.each(function(){var e=a(this),i=0;n.target&&e.is(n.target)||("border-box"!==e.css("box-sizing")&&(i+=o(e.css("border-top-width"))+o(e.css("border-bottom-width")),i+=o(e.css("padding-top"))+o(e.css("padding-bottom"))),e.css(n.property,t-i))})}),m.each(function(){var e=a(this);e.attr("style",e.data("style-cache")||null)}),l._maintainScroll&&a(window).scrollTop(c/d*a("html").outerHeight(!0)),this},l._applyDataApi=function(){var e={};a("[data-match-height], [data-mh]").each(function(){var i=a(this),o=i.attr("data-mh")||i.attr("data-match-height");e[o]=o in e?e[o].add(i):i}),a.each(e,function(){this.matchHeight(!0)})};var n=function(e){l._beforeUpdate&&l._beforeUpdate(e,l._groups),a.each(l._groups,function(){l._apply(this.elements,this.options)}),l._afterUpdate&&l._afterUpdate(e,l._groups)};l._update=function(o,s){if(s&&"resize"===s.type){var t=a(window).width();if(t===e)return;e=t}o?-1===i&&(i=setTimeout(function(){n(s),i=-1},l._throttle)):n(s)},a(l._applyDataApi),a(window).bind("load",function(a){l._update(!1,a)}),a(window).bind("resize orientationchange",function(a){l._update(!0,a)})}(jQuery),function(a){function e(a,e){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var i=a.originalEvent.changedTouches[0],o=document.createEvent("MouseEvents");o.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(o)}}if(a.support.touch="ontouchend"in document,a.support.touch){var i,o=a.ui.mouse.prototype,s=o._mouseInit,t=o._mouseDestroy;o._touchStart=function(a){var o=this;!i&&o._mouseCapture(a.originalEvent.changedTouches[0])&&(i=!0,o._touchMoved=!1,e(a,"mouseover"),e(a,"mousemove"),e(a,"mousedown"))},o._touchMove=function(a){i&&(this._touchMoved=!0,e(a,"mousemove"))},o._touchEnd=function(a){i&&(e(a,"mouseup"),e(a,"mouseout"),this._touchMoved||e(a,"click"),i=!1)},o._mouseInit=function(){var e=this;e.element.bind({touchstart:a.proxy(e,"_touchStart"),touchmove:a.proxy(e,"_touchMove"),touchend:a.proxy(e,"_touchEnd")}),s.call(e)},o._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:a.proxy(e,"_touchStart"),touchmove:a.proxy(e,"_touchMove"),touchend:a.proxy(e,"_touchEnd")}),t.call(e)}}}(jQuery),jQuery(document).ready(function(a){function e(){var e={action:"amalinkspro_clear_transient"};a.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){a(this).closest(".amalinkspro-settings-form-block").find(".amalinkspro-settings-form-note").text("Please try loading the AmaLinks Pro Interface on a post.")},complete:function(a){location.reload()}})}function i(e){a.ajax({type:"POST",url:ajaxurl,data:e,complete:function(a){},success:function(i){var o=a("#"+e.plugin).closest(".wrap.settings-section");if("valid"==i){var s=a("#"+e.plugin).closest(".alp-option-box-inner");s.find(".license-message span").html("Your license is active."),s.find(".license-message").addClass("amalinkspro-license-valid").removeClass("amalinkspro-license-deactivated"),s.find(".amalinkspro-activate").removeClass("amalinkspro-activate").addClass("amalinkspro-deactivate").attr("name","amalinksprodeactivate").attr("value","Deactivate"),o.find("h2.welcome-heading-primary").text("Your AmaLinks Pro license is Active"),o.find(".welcome-heading-note.empty-license").html("")}else"invalid"==i&&(alert("This license is invalid. Please try again."),o.find("h2.welcome-heading-primary").text("Your AmaLinks Pro license is Invalid"));a(".amalinkspro-media-window-content").removeClass("scroll-locked"),a(".amalinkspro-license-loading-gif").fadeOut(300)}})}function o(e){a.ajax({type:"POST",url:ajaxurl,data:e,success:function(i){var o=a("#"+e.plugin).closest(".wrap.settings-section");if("deactivated"==i){var s=a("#"+e.plugin).closest(".alp-option-box-inner");s.find(".license-message span").html("The license key you entered has been deactivated on this website."),s.find(".license-message").addClass("amalinkspro-license-deactivated").removeClass("amalinkspro-license-valid"),s.find(".amalinkspro-deactivate").removeClass("amalinkspro-deactivate").addClass("amalinkspro-activate").attr("value","Activate"),o.find("h2.welcome-heading-primary").text("Your AmaLinks Pro license is Deactivated")}else"invalid"==i&&(alert("There has been an error. Console Message"),o.find("h2.welcome-heading-primary").text("Your AmaLinks Pro license is Invalid"));a(".amalinkspro-media-window-content").removeClass("scroll-locked"),a(".amalinkspro-license-loading-gif").fadeOut(300)}})}function s(e){a.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){a(".amalinkspro-apitest-loading-gif").hide(),a(".amazon-api-test-message").html(e)}})}function t(){var e=a("#alp-step-3").find(".amalinkspro-linktype-preview"),i=e.attr("data-amalinkspro-linktype"),o=e.attr("data-amalinkspro-asin"),s=a("#alp-step-3").find(".amalinkspro-choose-associate-id-select").val();if(a("#alp-new-window").is(":checked"))var t="true";else var t="false";if(a("#alp-nofollow").is(":checked"))var l="true";else var l="false";if(a("#alp-addtocart").is(":checked"))var n="true";else var n="false";if(a("#alp-addtocart").is(":checked"))var n="true";else var n="false";if(window&&window.amalinksproPaapi5ChosenItem&&window.amalinksproPaapi5ChosenItem.DetailPageURL)var r=window.amalinksproPaapi5ChosenItem.DetailPageURL;else{var r="";if(""!==a("#alp-showcase-noapi-link").val())var r=a("#alp-showcase-noapi-link").val();if("cta-btn-css"==i||"cta-btn-img"===i)var r=a("#alp-ctabutton-noapi-link").val()}if("text-link"==i)var p,c='[amalinkspro type="text-link" asin="'+o+'" new-window="'+l+'" apilink="'+r+'" addtocart="'+n+'" nofollow="'+t+'"]'+(p=e.attr("data-amalinkspro-linktext"))+"[/amalinkspro]";else if("image-link"==i){if(a('input[name="alp-showcase-alignment"]').is(":checked")){var d=a("input[name='alp-showcase-alignment']:checked").val();window.amalinkspro_js_debug_check&&(console.log("showcase alignment: "),console.log(d))}else var d="alignnone";var m=e.attr("data-amalinkspro-linkimage"),p,c='[amalinkspro type="image-link" asin="'+o+'" new-window="'+l+'" apilink="'+r+'" addtocart="'+n+'" nofollow="'+t+'" alt="'+(p=e.attr("data-amalinkspro-linktext"))+'" alignment="'+d+'"]'+m+"[/amalinkspro]"}else if("cta-btn-css"==i||"cta-btn-img"===i){if(a('input[name="alp-showcase-alignment"]').is(":checked")){var d=a("input[name='alp-showcase-alignment']:checked").val();window.amalinkspro_js_debug_check&&(console.log("showcase alignment: "),console.log(d))}else var d="alignnone";var h=e.find(".amalinkspro-css-button-initial").text(),v=e.find(".amalinkspro-css-button-initial").attr("data-ctabtn-id");if("cta-btn-css"===i)var c='[amalinkspro type="cta-btn-css" ctabtn-id="'+v+'" asin="'+o+'" apilink="'+r+'" addtocart="'+n+'" new-window="'+l+'"  nofollow="'+t+'" alignment="'+d+'"]'+h+"[/amalinkspro]";else if("cta-btn-img"===i)var g,c='[amalinkspro type="cta-btn-img" cta_alt="'+h+'" asin="'+o+'" apilink="'+r+'" new-window="'+l+'" addtocart="'+n+'" nofollow="'+t+'" alignment="'+d+'"]'+e.attr("data-amalinkspro-ctaimage")+"[/amalinkspro]";else var c="The CTA link_type value is not valid."}else if("showcase"==i){var p=e.attr("data-amalinkspro-linktext"),u=e.attr("data-amalinkspro-linktext-button"),k=e.attr("data-amalinkspro-specs"),f=""+e.attr("data-amalinkspro-images"),w=e.attr("data-alp-showcase-id"),b=a("#alp-noapi-showcaseimage-code-field").val();if(b&&(f=encodeURIComponent(b)),a("#alp-showcase-link-images").is(":checked"))var x="true";else var x="false";if(a("#alp-showcase-stack-images").is(":checked"))var y="true";else var y="false";if(a('input[name="alp-showcase-alignment"]').is(":checked"))var d=a("input[name='alp-showcase-alignment']:checked").val();else var d="alignnone";var C=e.attr("data-alp-hide-prime"),I=e.attr("data-alp-hide-image"),_=e.attr("data-alp-hide-reviews"),P=e.attr("data-alp-hide-price"),L=e.attr("data-alp-hide-button"),S=e.attr("data-alp-width");if("4"==w)var c='[amalinkspro type="showcase" asin="'+o+'" apilink="'+r+'" new-window="'+l+'" addtocart="'+n+'" nofollow="'+t+'" sc-id="4" imgs="'+f+'" link-imgs="'+x+'" specs="'+k+'" btn-color="#ff9900" btn-text="'+u+'" alignment="'+d+'" hide-prime="'+C+'" hide-image="'+I+'" hide-reviews="'+_+'" hide-price="'+P+'" hide-button="'+L+'" width="'+S+'"]'+p+"[/amalinkspro]"}else var c="The link_type value is not valid.";return c}function l(e){a.ajax({type:"POST",url:ajaxurl,data:e,success:function(i){function o(a){try{JSON.parse(a)}catch(a){return!1}return!0}if(console.log("response: "),console.log(i),i){var s="";if(o(i)){var t=JSON.parse(i);if(t)if(t.SearchResult&&t.SearchResult.SearchURL&&(s+="<p>Search URL: "+t.SearchResult.SearchURL+"</p><hr />"),t.Errors&&t.Errors[0]&&t.Errors[0].Code&&"NoResults"===t.Errors[0].Code)s+="<h2>"+t.Errors[0].Message+"</h2>";else{var l=t.SearchResult.Items,n;for(window.alpSearchProducts=l,s+='<div class="amalinkspro-search-result search-results-header">',s+='<div class="amalinkspro-search-result-inner">',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-img">Image</div>',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-title">Title</div>',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-salesranking">SalesRank</div>',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-prime">Prime</div>',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-price">Price</div>',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-choose">Actions</div>',s+="</div>",s+="</div>",n=0;n<l.length;n++){var r="",p="";l[n]&&l[n].ASIN&&(r=l[n].ASIN,p=alpAmazonUrl+"/dp/"+r),console.log(p);var c="";l[n]&&l[n].ItemInfo&&l[n].ItemInfo.Title&&l[n].ItemInfo.Title.DisplayValue&&(c=l[n].ItemInfo.Title.DisplayValue);var d="-";l[n]&&l[n].BrowseNodeInfo&&l[n].BrowseNodeInfo.BrowseNodes&&l[n].BrowseNodeInfo.BrowseNodes[0]&&l[n].BrowseNodeInfo.BrowseNodes[0].SalesRank&&l[n].BrowseNodeInfo.BrowseNodes[0].ContextFreeName&&(d='<span class="alp-salesranking-rank">#'+l[n].BrowseNodeInfo.BrowseNodes[0].SalesRank+'</span><span class="alp-salesranking-category">'+l[n].BrowseNodeInfo.BrowseNodes[0].ContextFreeName+"</span>");var m="X";l[n]&&l[n].Offers&&l[n].Offers.Listings[0]&&l[n].Offers.Listings[0].DeliveryInfo&&l[n].Offers.Listings[0].DeliveryInfo.IsPrimeEligible&&!0===l[n].Offers.Listings[0].DeliveryInfo.IsPrimeEligible&&(m='<span class="alp-prime-eligible-tag"><span class="alp-prime-eligible-tag-top">Prime</span><span class="alp-prime-eligible-tag-bottom">eligible</span></span>');var h="";l[n]&&l[n].Images&&l[n].Images.Primary&&l[n].Images.Primary.Medium&&l[n].Images.Primary.Medium.URL&&(h=l[n].Images.Primary.Medium.URL);var v="-";l[n]&&l[n].Offers&&l[n].Offers.Listings[0]&&l[n].Offers.Listings[0].Price&&l[n].Offers.Listings[0].Price.DisplayAmount&&(v=l[n].Offers.Listings[0].Price.DisplayAmount),s+='<div class="amalinkspro-search-result" data-alp-asin="'+r+'">',s+='<div class="amalinkspro-search-result-inner">',s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-img">',s+='<img src="'+h+'" alt="'+c+'">',s+="</div>",s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-title">',s+=c,s+="</div>",s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-salesranking">',s+=d,s+="</div>",s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-prime">',s+=m,s+="</div>",s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-price">',s+=v,s+="</div>",s+='<div class="amalinkspro-search-result-col amalinkspro-search-result-col-choose">',s+='<a class="button button-secondary button-large js-amalinkspro-choose-product amalinkspro-next-action" data-amalinkspro-item-title="'+c+'" data-amalinkspro-item-img-med="'+h+'" data-amalinkspro-item-asin="'+r+'">Choose</a>',s+='<a class="amalinkspro-view-link" href="'+p+'" target="_blank">view</a>',s+="</div>",s+="</div>",s+="</div>"}}else a(".amalinkspro-search-pagination").removeClass("on-display"),a(".amalinkspro-search-results-list").html('<h3 style="line-height: 1.4; color: red;">There was a problem with your Amazon Product Advertising API Credentials. Your API call was denied by Amazon.</h3>');a(".amalinkspro-search-results-list").html(s),a(".amalinkspro-search-pagination").addClass("on-display"),a(".amalinkspro-search-pagination").find(".alp-search-page").removeClass("current");var g='.alp-search-page[data-api-page="'+e.page+'"]';a(".amalinkspro-search-pagination").find(g).addClass("current")}else s=i,a(".amalinkspro-search-pagination").removeClass("on-display"),a(".amalinkspro-search-results-list").html(s)}else a(".amalinkspro-search-pagination").removeClass("on-display"),a(".amalinkspro-search-results-list").html('<h3 style="line-height: 1.4; color: red;">There was a problem with your Amazon Product Advertising API Credentials. Your API call was denied by Amazon.</h3>')},complete:function(e){a(".amalinkspro-search-loading-gif").hide(),a(".amalinkspro-search-results-list").show(),a(".amalinkspro-search-loading-gif").hide(),a(".amalinkspro-search-results-list").show(),a(".js-amalinkspro-mediamodal-search").removeClass("amalinkspro-next-action"),a(".js-amalinkspro-choose-product").addClass("amalinkspro-next-action"),a(".amalinkspro-loading-overlay").fadeOut(300);var i=a(".amalinkspro-search-results").offset().top-a(".amalinkspro-search-results").parent().offset().top-a(".amalinkspro-search-results").parent().scrollTop();a("#amalinkspro-media-window-content").animate({scrollTop:i},{duration:"medium",easing:"swing"});var o,s,t=a("#amalinkspro-media-window-content").scrollTop()+(a(".amalinkspro-search-results").offset().top-145);a(".amalinkspro-search-results-list").addClass("on-display")}})}function n(e,i){a.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){a(".amalinkspro-search-results-list").html(e)},complete:function(e){a(".amalinkspro-loading-overlay").fadeOut(300);var o=a(".amalinkspro-search-results").offset().top-a(".amalinkspro-search-results").parent().offset().top-a(".amalinkspro-search-results").parent().scrollTop();a("#amalinkspro-media-window-content").animate({scrollTop:o},{duration:"medium",easing:"swing"}),a(".amalinkspro-search-pagination").addClass("on-display"),a(".amalinkspro-search-results-list").addClass("on-display"),a(".amalinkspro-search-pagination .alp-search-page").removeClass("current"),a(".amalinkspro-search-pagination .alp-search-page[data-api-page="+i+"]").addClass("current")}})}function r(a,e){e?(console.log("searchProdsData: "),console.log(e),p(e,a.asin)):alert("Please try again")}function p(e,i){window.amalinksproPaapi5ChosenItem=e,window.amalinkspro_js_debug_check&&(console.log("display_search_results() response: "),console.log("ASIN: "+i),console.log(e),console.log("Set to - window.amalinksproPaapi5ChosenItem:"),console.log(window.amalinksproPaapi5ChosenItem));for(var o="",s=0,t=e.length;s<t;s++){var l=e[s];e[s].ASIN===i&&(window.amalinksproPaapi5ChosenItem=e[s])}if(console.log("window.amalinksproPaapi5ChosenItem for ASIN: "+i+" - "),console.log(window.amalinksproPaapi5ChosenItem),"none"!=_){var n=window.amalinksproPaapi5ChosenItem;if(window.amalinkspro_js_debug_check&&(console.log("The Gutenberg editor is active"),console.log("alp_item: "),console.log(n)),n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue)var r=n.ItemInfo.Title.DisplayValue;if(n&&n.ASIN)var p=n.ASIN;if(n&&n.DetailPageURL&&(window.alp_product_href=n.DetailPageURL),window.amalinkspro_js_debug_check&&console.log("window.alp_product_href backup URL: "+window.alp_product_href),"ama-legacy-text-link"==_?(window.alp_block_props.setAttributes({href:window.alp_product_href}),a(".amalinkspro-close-modal").click(),a(".alp-text-link-dummy").removeClass("link-disabled")):"ama-legacy-image-link"==_&&window.alp_block_props.setAttributes({href:window.alp_product_href}),"ama-legacy-text-link"==_)window.alp_block_props.setAttributes({linkText:r,asin:p}),a(".amalinkspro-close-modal").click(),a(".alp-text-link-dummy").removeClass("link-disabled");else if("ama-legacy-image-link"==_){window.amalinkspro_js_debug_check&&console.log("// Let's handle our gutenberg image block now."),window.alp_block_props.setAttributes({alt:r,asin:p}),a(".alp-img-link-dummy").removeClass("link-disabled"),a("#alp-step-2 .amalinkspro-chosen-product").hide(),a("#alp-step-2 .amalinkspro-choose-link-type-wrap").hide(),a(".js-amalinkspro-final-step").hide(),a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-linktype-active"),a(".alp-step-2").addClass("alp-step-active"),a("#alp-step-1").hide(),a(".alp-step-1").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a("#alp-step-2").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled"),a(".amalinkspro-goto-step3").find(".amalinkspro-final-step-btn").remove(),a(".amalinkspro-goto-step3").append(a('<a href="#" class="js-insert-image-into-block amalinkspro-final-step-btn amalinkspro-next-action">Insert into Gutenberg</a>'));var c=a(".amalinkspro-linktype-preview-image-link");if(n&&n.Images&&n.Images.Primary&&n.Images.Primary.Medium&&n.Images.Primary.Medium.URL){console.log("medium image URL: "),console.log(n.Images.Primary.Medium.URL),c.find(".amalinkspro-image-link-img").attr("src",n.Images.Primary.Medium.URL),c.attr("data-amalinkspro-linkimage",n.Images.Primary.Medium.URL);var d=n.Images.Primary.Medium.URL}if(c.find(".amalinkspro-image-link-link").attr("href",window.alp_product_href),r){var m=r.toString().replace('"',"&quot;");c.attr("data-amalinkspro-linktext",m)}p&&c.attr("data-amalinkspro-asin",p);var h="";if(n&&n.Images&&n.Images.Primary){if(h+='<div class="amalinkspro-choose-api-image">',h+='<span class="amalinkspro-chosen-size"></span>',n.Images.Primary.Large&&n.Images.Primary.Large.URL)var v=n.Images.Primary.Large.URL;else if(n.Images.Primary.Medium&&n.Images.Primary.Medium.URL)var v=n.Images.Primary.Medium.URL;else if(n.Images.Primary.Small&&n.Images.Primary.Small.URL)var v=n.Images.Primary.Small.URL;h+='<img src="'+v+'" alt="" />',h+='<div class="amalinkspro-choose-api-image-cover js-amalinkspro-select-image">',n.Images.Primary.Large&&n.Images.Primary.Large.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Large.URL+'">large</span>'),n.Images.Primary.Medium&&n.Images.Primary.Medium.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Medium.URL+'">medium</span>'),n.Images.Primary.Small&&n.Images.Primary.Small.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Small.URL+'">small</span>'),h+='</div class="js-amalinkspro-select-image-size">',h+="</div>"}if(n&&n.Images&&n.Images.Variants){var g=n.Images.Variants;for(var u in g){if(g[u].Medium)var v=g[u].Medium.URL;else if(g[u].Small)var v=g[u].Small.URL;h+='<div class="amalinkspro-choose-api-image">',h+='<span class="amalinkspro-chosen-size"></span>',h+='<img src="'+v+'" alt="" />',h+='<div class="amalinkspro-choose-api-image-cover js-amalinkspro-select-image">',g[u].Large&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Large.URL+'">large</span>'),g[u].Medium&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Medium.URL+'">medium</span>'),g[u].Small&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Small.URL+'">small</span>'),h+='</div class="js-amalinkspro-select-image-size">',h+="</div>"}h+='<div class="amalinkspro-clear"></div>'}a(".amalinkspro-linktype-preview-image-link-edit-imagechoices").html(h),a(".amalinkspro-linktype-preview.amalinkspro-linktype-preview-image-link").show(),a(".js-amalinkspro-edit-link").trigger("click")}else if("ama-legacy-cta-shortcode"==_){a("#alp-step-2 .amalinkspro-chosen-product").hide(),a("#alp-step-2 .amalinkspro-choose-link-type-wrap").hide(),a(".js-amalinkspro-final-step").hide(),a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-linktype-active"),a(".amalinkspro-goto-step3 .amalinkspro-choose-link-type-heading").text("Are you happy with your CTA Button Configuration?"),a(".amalinkspro-goto-step3").find(".amalinkspro-final-step-btn").remove(),a(".amalinkspro-goto-step3").append(a('<a href="#" class="js-insert-cta-shortcode-into-block amalinkspro-final-step-btn amalinkspro-next-action">Insert into Gutenberg</a>')),a(".alp-step-2").addClass("alp-step-active"),a("#alp-step-1").hide(),a(".alp-step-1").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a("#alp-step-2").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled");var c=a(".amalinkspro-linktype-preview-cta-link");if(r){var m=r.toString().replace('"',"&quot;");a(".alp-css-button-generator-preview").text(r),c.find(".amalinkspro-cta-image-link").attr("alt",m),c.attr("data-amalinkspro-ctatext",r),c.find("input[name=amalinkspro-edit-ctalink-text]").val(m)}if(p&&c.attr("data-amalinkspro-asin",n.ASIN),c.find(".amalinkspro-css-button-initial").attr("href",window.alp_product_href),a(".js-amalinkspro-choose-link-type[data-link-type=cta-link]").trigger("click"),!a(".amalinkspro-linktype-preview-boxes .alp-step3-setting-wrap").length){var k=a(".alp-alignment-settings .alp-step3-setting-wrap").clone();a(".amalinkspro-linktype-preview-boxes").append(k)}if(!a(".amalinkspro-linktype-preview-boxes .amalinkspro-associate-ids-form").length){var f=a("#alp-step-3 .amalinkspro-associate-ids-form").clone();a(".amalinkspro-linktype-preview-boxes").append(f)}}else if("ama-legacy-showcase-shortcode"==_){a("#alp-step-2 .amalinkspro-chosen-product").hide(),a("#alp-step-2 .amalinkspro-choose-link-type-wrap").hide(),a(".js-amalinkspro-final-step").hide(),a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-linktype-active"),a(".amalinkspro-goto-step3 .amalinkspro-choose-link-type-heading").text("Are you happy with your AmaLink Showcase?"),a(".amalinkspro-goto-step3").find(".amalinkspro-final-step-btn").remove(),a(".amalinkspro-goto-step3").append(a('<a href="#" class="js-insert-showcase-shortcode-into-block amalinkspro-final-step-btn amalinkspro-next-action">Insert into Gutenberg</a>')),a(".alp-step-2").addClass("alp-step-active"),a("#alp-step-1").hide(),a(".alp-step-1").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a("#alp-step-2").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled");var c=a(".amalinkspro-linktype-preview-showcase");if(r){var m=r.toString().replace('"',"&quot;");c.attr("data-amalinkspro-linktext",m)}if(p&&c.attr("data-amalinkspro-asin",p),c.attr("data-amalinkspro-linktext-button","View on Amazon"),a(".amalinkspro-chosen-product").find("h3").text(r),a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-product-main-img").attr("src",window.alp_product_href),a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-item-previewlink").attr("href",window.alp_product_href),a(".amalinkspro-chosen-product p:contains(' - ')").css("color","#ffb2b2"),a(".js-amalinkspro-choose-link-type[data-link-type=showcase]").trigger("click"),!a(".amalinkspro-linktype-preview-boxes .amalinkspro-associate-ids-form").length){var f=a("#alp-step-3 .amalinkspro-associate-ids-form").clone();a(".amalinkspro-linktype-preview-boxes").append(f)}}}else{window.amalinkspro_js_debug_check&&console.log("The Gutenberg editor is not active"),a(".alp-step-2").addClass("alp-step-active"),a("#alp-step-1").hide(),a(".alp-step-1").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a("#alp-step-2").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled"),a(".amalinkspro-chosen-product").addClass("on-display"),a(".amalinkspro-choose-link-type-wrap").addClass("on-display");var w=window.amalinksproPaapi5ChosenItem,n=window.amalinksproPaapi5ChosenItem;if(console.log("alp_item: "),console.log(n),n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue&&a(".amalinkspro-chosen-product").find("h3").text(n.ItemInfo.Title.DisplayValue),n&&n.Images&&n.Images.Primary&&n.Images.Primary.Medium&&n.Images.Primary.Medium.URL?a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-product-main-img").attr("src",n.Images.Primary.Medium.URL):n&&n.Images&&n.Images.Primary&&n.Images.Primary.Large&&n.Images.Primary.Large.URL?a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-product-main-img").attr("src",n.Images.Primary.Large.URL):n&&n.Images&&n.Images.Primary&&n.Images.Primary.Small&&n.Images.Primary.Small.URL?a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-product-main-img").attr("src",n.Images.Primary.Small.URL):a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-product-main-img").attr("src",""),n&&n.DetailPageURL?a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-item-previewlink").attr("href",n.DetailPageURL):a(".amalinkspro-chosen-product").find(".amalinkspro-chosen-item-previewlink").attr("href",""),a(".amalinkspro-chosen-product").fadeIn(100),n){if(console.log("alp_item: "),console.log(n),n.ASIN?a(".amalinkspro-chosen-product-asin").find("span").html(n.ASIN):a(".amalinkspro-chosen-product-asin").find("span").html(" - "),n&&n.ItemInfo&&n.ItemInfo.Features&&n.ItemInfo.Features.DisplayValues){var b=n.ItemInfo.Features.DisplayValues;if(console.log("features: "),console.log(b),b){for(var x="<ul>",s=0,t=b.length;s<t;s++)x+='<li class="enabled-spec">',x+=b[s],x+="</li>";x+="</ul>",a(".showcase-4-features").html(x)}else a(".showcase-4-features").html("<ul><li>There are no features for this product</li></ul>")}n&&n.Offers&&n.Offers.Listings[0]&&n.Offers.Listings[0].Price&&n.Offers.Listings[0].Price.DisplayAmount&&a(".amalinkspro-chosen-product-bestoffer").find("span").html(n.Offers.Listings[0].Price.DisplayAmount),n&&n.BrowseNodeInfo&&n.BrowseNodeInfo.BrowseNodes&&n.BrowseNodeInfo.BrowseNodes[0]&&n.BrowseNodeInfo.BrowseNodes[0].SalesRank&&a(".amalinkspro-chosen-product-ranking").find("span").html("#"+n.BrowseNodeInfo.BrowseNodes[0].SalesRank+" in "+n.BrowseNodeInfo.BrowseNodes[0].ContextFreeName),n&&n.Offers&&n.Offers.Listings[0]&&n.Offers.Listings[0].DeliveryInfo&&n.Offers.Listings[0].DeliveryInfo.IsPrimeEligible&&!0===n.Offers.Listings[0].DeliveryInfo.IsPrimeEligible&&a(".amalinkspro-chosen-product-bestoffer").append('<span class="alp-prime-eligible-tag"><span class="alp-prime-eligible-tag-top">Prime</span><span class="alp-prime-eligible-tag-bottom">eligible</span></span>')}else a(".showcase-4-features").html("<ul><li>There are no features for this product</li></ul>");a(".amalinkspro-chosen-product p:contains(' - ')").css("color","#ffb2b2");var c=a(".amalinkspro-linktype-preview-text-link");if(n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue){c.find(".amalinkspro-text-link-preview-p").find("a").text(n.ItemInfo.Title.DisplayValue),c.find("input[name=amalinkspro-edit-textlink-text]").val(n.ItemInfo.Title.DisplayValue),n&&n.DetailPageURL&&c.find(".amalinkspro-text-link-preview-p").find("a").attr("href",n.DetailPageURL);var m=n.ItemInfo.Title.DisplayValue.toString().replace('"',"&quot;");c.attr("data-amalinkspro-linktext",m),c.attr("data-amalinkspro-asin",n.ASIN)}var c=a(".amalinkspro-linktype-preview-image-link");if(n&&n.Images&&n.Images.Primary&&n.Images.Primary.Medium&&n.Images.Primary.Medium.URL){c.find(".amalinkspro-image-link-img").attr("src",n.Images.Primary.Medium.URL),c.attr("data-amalinkspro-linkimage",n.Images.Primary.Medium.URL);var d=n.Images.Primary.Medium.URL}else if(n&&n.Images&&n.Images.Primary&&n.Images.Primary.Large&&n.Images.Primary.Large.URL){c.find(".amalinkspro-image-link-img").attr("src",n.Images.Primary.Large.URL),c.attr("data-amalinkspro-linkimage",n.Images.Primary.Large.URL);var d=n.Images.Primary.Large.URL}else if(n&&n.Images&&n.Images.Primary&&n.Images.Primary.Small&&n.Images.Primary.Small.URL){c.find(".amalinkspro-image-link-img").attr("src",n.Images.Primary.Small.URL),c.attr("data-amalinkspro-linkimage",n.Images.Primary.Small.URL);var d=n.Images.Primary.Small.URL}if(n&&n.DetailPageURL&&c.find(".amalinkspro-image-link-link").attr("href",n.DetailPageURL),n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue){var m=n.ItemInfo.Title.DisplayValue.toString().replace('"',"&quot;");c.attr("data-amalinkspro-linktext",m)}n&&n.ASIN&&c.attr("data-amalinkspro-asin",n.ASIN);var h="";if(n&&n.Images&&n.Images.Primary){if(h+='<div class="amalinkspro-choose-api-image">',h+='<span class="amalinkspro-chosen-size"></span>',n.Images.Primary.Large&&n.Images.Primary.Large.URL)var v=n.Images.Primary.Large.URL;else if(n.Images.Primary.Medium&&n.Images.Primary.Medium.URL)var v=n.Images.Primary.Medium.URL;else if(n.Images.Primary.Small&&n.Images.Primary.Small.URL)var v=n.Images.Primary.Small.URL;h+='<img src="'+v+'" alt="" />',h+='<div class="amalinkspro-choose-api-image-cover js-amalinkspro-select-image">',n.Images.Primary.Large&&n.Images.Primary.Large.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Large.URL+'">large</span>'),n.Images.Primary.Medium&&n.Images.Primary.Medium.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Medium.URL+'">medium</span>'),n.Images.Primary.Small&&n.Images.Primary.Small.URL&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+n.Images.Primary.Small.URL+'">small</span>'),h+='</div class="js-amalinkspro-select-image-size">',h+="</div>"}if(n&&n.Images&&n.Images.Variants){var g=n.Images.Variants;for(var u in g){if(g[u].Medium)var v=g[u].Medium.URL;else if(g[u].Small)var v=g[u].Small.URL;h+='<div class="amalinkspro-choose-api-image">',h+='<span class="amalinkspro-chosen-size"></span>',h+='<img src="'+v+'" alt="" />',h+='<div class="amalinkspro-choose-api-image-cover js-amalinkspro-select-image">',g[u].Large&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Large.URL+'">large</span>'),
g[u].Medium&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Medium.URL+'">medium</span>'),g[u].Small&&(h+='<span class="js-amalinkspro-select-image-size" data-img-size-url="'+g[u].Small.URL+'">small</span>'),h+='</div class="js-amalinkspro-select-image-size">',h+="</div>"}h+='<div class="amalinkspro-clear"></div>'}else h+='<h3 class="amalinkspro-clear">Sorry, there are no image sets</h3>';a(".amalinkspro-linktype-preview-image-link-edit-imagechoices").html(h);var c=a(".amalinkspro-linktype-preview-cta-link");if(n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue){var m=n.ItemInfo.Title.DisplayValue.toString().replace('"',"&quot;");a(".alp-css-button-generator-preview").text(n.ItemInfo.Title.DisplayValue),c.find(".amalinkspro-cta-image-link").attr("alt",m),c.attr("data-amalinkspro-ctatext",n.ItemInfo.Title.DisplayValue)}n&&n.DetailPageURL&&c.find(".amalinkspro-css-button-initial").attr("href",n.DetailPageURL),n&&n.ASIN&&c.attr("data-amalinkspro-asin",n.ASIN);var c=a(".amalinkspro-linktype-preview-showcase");if(n&&n.ItemInfo&&n.ItemInfo.Title&&n.ItemInfo.Title.DisplayValue){var m=n.ItemInfo.Title.DisplayValue.toString().replace('"',"&quot;");c.attr("data-amalinkspro-linktext",m)}n&&n.ASIN&&c.attr("data-amalinkspro-asin",n.ASIN)}}function c(){var e=a("#showcase-id").attr("data-showcase-id"),i=a(".amalinkspro-showcase-4");if(console.log("window.amalinksproPaapi5ChosenItem: "),console.log(window.amalinksproPaapi5ChosenItem),window.amalinksproPaapi5ChosenItem){var o=window.amalinksproPaapi5ChosenItem;console.log("showcase alp_item: "),console.log(o)}if(o&&o.ASIN)var s=o.ASIN;if(i.find(".showcase-4-reviews").remove(),i.find(".alp-showcase-title").html('<i class="icon-amalinkspro-edit" title="Edit Showcase Title"></i>'),o&&o.ItemInfo&&o.ItemInfo.Title&&o.ItemInfo.Title.DisplayValue){var t=o.ItemInfo.Title.DisplayValue;i.find(".alp-showcase-title").append(t)}else i.find(".alp-showcase-title").append("Enter a Custom Product Name Here");if(o&&o.Images&&o.Images.Primary&&o.Images.Primary.Large&&o.Images.Primary.Large.URL)i.find(".amalinkspro-chosen-product-main-img").attr("src",o.Images.Primary.Large.URL);else if(o&&o.Images&&o.Images.Primary&&o.Images.Primary.Medium&&o.Images.Primary.Medium.URL)i.find(".amalinkspro-chosen-product-main-img").attr("src",o.Images.Primary.Medium.URL);else if(o&&o.Images&&o.Images.Primary&&o.Images.Primary.Small&&o.Images.Primary.Small.URL)i.find(".amalinkspro-chosen-product-main-img").attr("src",o.Images.Primary.Small.URL);else if(o&&o.Images&&o.Images.Variants){var l=o.Images.Variants;for(var n in l)l[n].Medium&&l[n].Medium.URL?i.find(".amalinkspro-chosen-product-main-img").attr("src",l[n].Medium.URL):l[n].Large&&l[n].Large.URL?i.find(".amalinkspro-chosen-product-main-img").attr("src",l[n].Large.URL):l[n].Small&&l[n].Small.URL&&i.find(".amalinkspro-chosen-product-main-img").attr("src",l[n].Small.URL);i.find(".amalinkspro-chosen-product-main-img").attr("src",u)}else a(".amalinkspro-showcase-4 .alp-showcase-img-wrap").addClass("alp-noapi-showcase-img");if(o&&o.ItemInfo&&o.ItemInfo.Features&&o.ItemInfo.Features.DisplayValues){var r=o.ItemInfo.Features.DisplayValues;if(console.log("features: "),console.log(r),r){for(var p="<ul>",c=0,d=r.length;c<d;c++)p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+=r[c],p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>';p+='<li class="enabled-spec add-showcase-feature"><i class="alp-add-feature icon-amalinkspro-plus"></i></li>',p+="</ul>"}else{var p="<ul>";p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec add-showcase-feature"><i class="alp-add-feature icon-amalinkspro-plus"></i></li>',p+="</ul>"}}else{var p="<ul>";p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">',p+="Add custom text here",p+='</span><i class="hide-feature icon-amalinkspro-eye"></i></li>',p+='<li class="enabled-spec add-showcase-feature"><i class="alp-add-feature icon-amalinkspro-plus"></i></li>',p+="</ul>"}a(".showcase-4-features").html(p),o&&o.Offers&&o.Offers.Listings[0]&&o.Offers.Listings[0].Price&&o.Offers.Listings[0].Price.DisplayAmount?i.find(".amalinkspro-showcase-bottom-cta-price").html('<i class="hide-price icon-amalinkspro-eye"></i>'+o.Offers.Listings[0].Price.DisplayAmount):i.find(".amalinkspro-showcase-bottom-cta-price").remove(),o&&o.Offers&&o.Offers.Listings[0]&&o.Offers.Listings[0].DeliveryInfo&&o.Offers.Listings[0].DeliveryInfo.IsPrimeEligible&&!0===o.Offers.Listings[0].DeliveryInfo.IsPrimeEligible?i.find(".amalinkspro-showcase-stats-col-info .top-prime-logo").length||(i.find(".amalinkspro-showcase-stats-col-info").prepend('<div class="top-prime-logo"><i class="hide-prime icon-amalinkspro-eye"></i><span class="alp-prime-eligible-tag"><span class="alp-prime-eligible-tag-top">Prime</span><span class="alp-prime-eligible-tag-bottom">eligible</span></span></div>'),a('<span class="alp-prime-eligible-tag"><span class="alp-prime-eligible-tag-top">Prime</span><span class="alp-prime-eligible-tag-bottom">Eligible</span></span>').insertBefore(i.find(".amalinkspro-showcase-bottom-cta-link"))):(i.find(".amalinkspro-showcase-stats-col-info .top-prime-logo").remove(),i.find(".amalinkspro-showcase-bottom-cta .alp-prime-eligible-tag").remove()),i.find(".amalinkspro-showcase-bottom-cta").append('<i class="hide-showcase-button icon-amalinkspro-eye" title="Hide the CTA Button"></i>');var m="";if(o&&o.Images&&o.Images.Primary&&o.Images.Primary.Large&&o.Images.Primary.Large.URL?(m+='<div class="amalinkspro-choose-api-image" data-api-img="LargeImage">',m+='<span class="amalinkspro-chosen-size"></span>',m+='<img src="'+o.Images.Primary.Large.URL+'" alt="" />',m+="</div>",i.find(".amalinkspro-chosen-product-main-img").attr("src",o.Images.Primary.Large.URL)):o&&o.Images&&o.Images.Primary&&o.Images.Primary.Medium&&o.Images.Primary.Medium.URL?(m+='<div class="amalinkspro-choose-api-image" data-api-img="LargeImage">',m+='<span class="amalinkspro-chosen-size"></span>',m+='<img src="'+o.Images.Primary.Medium.URL+'" alt="" />',m+="</div>"):o&&o.Images&&o.Images.Primary&&o.Images.Primary.Small&&o.Images.Primary.Small.URL&&(m+='<div class="amalinkspro-choose-api-image" data-api-img="LargeImage">',m+='<span class="amalinkspro-chosen-size"></span>',m+='<img src="'+o.Images.Primary.Small.URL+'" alt="" />',m+="</div>"),o&&o.Images&&o.Images.Variants){var h=a(".amalinkspro-showcase-3"),l=o.Images.Variants,v=0,g=h.find(".alp-showcase-body-images").find("ul"),v=0;for(var n in l){if(l[v].Large.URL)var u=l[v].Large.URL;else if(l[v].Medium.URL)var u=l[v].Medium.URL;else if(l[v].Small.URL)var u=l[v].Small.URL;m+='<div class="amalinkspro-choose-api-image" data-api-img="'+v+'">',m+='<span class="amalinkspro-chosen-size"></span>',m+='<img src="'+u+'" alt="" />',m+="</div>",v++}a("#alp-hidden-img-choices-showcase-3").html(m),a("#alp-hidden-img-choices-showcase-3").find(".amalinkspro-choose-api-image").matchHeight()}a(".amalinkspro-showcase p:contains(' - ')").css("color","#ffb2b2"),a(".alp-showcase-spec-val-editable").append('<i class="icon-amalinkspro-edit" title="Edit Specification"></i>'),a(".alp-showcase-spec-val-editable-textarea").append('<i class="icon-amalinkspro-edit" title="Edit Showcase Title"></i>'),a(".alp-showcase-amalink-editable").append('<i class="icon-amalinkspro-edit" title="Edit Button Text"></i>');var k=new Date,f=k.getHours(),w=k.getMinutes(),b=k.getDate(),x=k.getMonth()+1,y=k.getFullYear(),C="AM";f>=12&&(C="PM",f-=12),0==f&&(f=12),w<10&&(w="0"+w),i.find(".alp-api-request-date").html(x+"/"+b+"/"+y+" "+f+":"+w+" "+C),a(".alp-showcase-loader i").addClass("dot-expand"),a(".alp-showcase-loader").delay(600).fadeOut(100),a(".amalinkspro-showcase-4").find(".amalinkspro-showcase-stats-col-img").prepend('<i class="hide-image icon-amalinkspro-eye"></i>'),a(".alp-showcase-1-title-col").matchHeight({byRow:!1}),a(".alp-showcase-2-title-col").matchHeight({byRow:!1}),a(".alp-showcase-3-title-col").matchHeight({byRow:!1})}function d(){var e={action:"amalinkspro_load_premade_cta_buttons"};a.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){a("#amalinkspro_load_premade_cta_buttons").html(e),a(".amalinkspro-choose-cta-btn-list").find(".amalinkspro-css-button-admin").text(a(".amalinkspro-css-button-initial").text())},complete:function(e){a.fn.matchHeight._update()}})}function m(a){var e="";if(P){var i=P.ItemAttributes.Title,o,s="prime logo";s=1==P.Offers.Offer.OfferListing.IsEligibleForPrime?"prime logo":"X";var t=P.ItemAttributes.Brand,l=P.ItemAttributes.Model,n=P.SmallImage.URL,r=P.ItemAttributes.Feature,p="";if(r){p+="<ul>";for(var c=0,d=r.length;c<d;c++)p+="<li>",p+=r[c],p+="</li>";p+="</ul>"}var m=P.MediumImage.URL,h=P.ItemAttributes.ListPrice.FormattedPrice,v=P.Offers.Offer.OfferListing.Price.FormattedPrice,g=P.Offers.Offer.OfferListing.AmountSaved.FormattedPrice,u=P.Offers.Offer.OfferListing.AmountSaved.CurrencyCode,k=P.Offers.Offer.OfferListing.PercentageSaved,f=P.ASIN,w=P.DetailPageURL,b="";v?b=v:h&&(b=h),k&&(b+="<br />"+k+"% Off"),e=[],"title"==a?(e.value=i,e.label=""):"prime"==a?(e.value=s,e.label=""):"brand"==a?(e.value=t,e.label="Brand:"):"model"==a?(e.value=l,e.label="Model:"):"image"==a?(e.value='<img src="'+n+'" alt="'+i+'" />',e.label=i):"features"==a?(e.value=p,e.label="Features:"):"lowest-new-price"==a?(e.value=i,e.label="Lowest New Price:"):"lowest-used-price"==a?(e.value=i,e.label="Lowest Used price"):(e.value="invalid api data type",e.label="")}else e.value="Error: no Amazon API item",e.label="";return e}function h(){var e,i=a("#alp-btn-generator-preview").find("a.alp-css-button-generator-preview");if(i.css("fontSize",a(".alp-control-font-size-hover").slider("option","value")),i.css("color",a(".alp-control-font-color-hover").val()),a(".alp-control-textshadow-enable").is(":checked")){var o=a(".alp-control-textshadow-x-hover").slider("option","value")+"px "+a(".alp-control-textshadow-y-hover").slider("option","value")+"px "+a(".alp-control-textshadow-blur-hover").slider("option","value")+"px "+a(".alp-control-textshadow-color-hover").val();i.css("textShadow",o)}var s=a(".alp-control-padding-top-hover").slider("option","value")+"px "+a(".alp-control-padding-right-hover").slider("option","value")+"px "+a(".alp-control-padding-bottom-hover").slider("option","value")+"px "+a(".alp-control-padding-left-hover").slider("option","value")+"px ";if(i.css("padding",s),a(".alp-control-boxshadow-enable").is(":checked")){var t=a(".alp-control-boxshadow-x-hover").slider("option","value")+"px "+a(".alp-control-boxshadow-y-hover").slider("option","value")+"px "+a(".alp-control-boxshadow-blur-hover").slider("option","value")+"px "+a(".alp-control-boxshadow-color-hover").val();i.css("boxShadow",t)}i.css("borderRadius",a(".alp-control-border-radius-hover").slider("option","value")+"px ");var l=a(".alp-control-border-width-hover").slider("option","value")+"px solid "+a(".alp-control-border-color-hover").val();i.css("border",l);var n=a(".alp-control-background-type-hover:checked").val(),r=a(".alp-control-bg-solid-hover").val();if("bg-solid"===n)i.css("background",r);else{var p,c="linear-gradient("+a(".alp-control-bg-top-hover").val()+" 0%,"+r+" 100%)";i.css("background",c)}}function v(){var e,i=a("#alp-btn-generator-preview").find("a.alp-css-button-generator-preview"),o=a(".alp-control-font-size").slider("option","value");if(i.css("font-size",o+"px"),i.css("color",a(".alp-control-font-color").val()),a(".alp-control-textshadow-enable").is(":checked")){var s=a(".alp-control-textshadow-x").slider("option","value")+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+a(".alp-control-textshadow-color").val();i.css("textShadow",s)}var t=a(".alp-control-padding-top").slider("option","value")+"px "+a(".alp-control-padding-right").slider("option","value")+"px "+a(".alp-control-padding-bottom").slider("option","value")+"px "+a(".alp-control-padding-left").slider("option","value")+"px";if(i.css("padding",t),a(".alp-control-boxshadow-enable").is(":checked")){var l=a(".alp-control-boxshadow-x").slider("option","value")+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+a(".alp-control-boxshadow-color").val();i.css("boxShadow",l)}i.css("border-radius",a(".alp-control-border-radius").slider("option","value")+"px ");var n=a(".alp-control-border-width").slider("option","value")+"px solid "+a(".alp-control-border-color").val();i.css("border",n);var r=a(".alp-control-background-type:checked").val(),p=a("input.alp-control-bg-solid").val();if("bg-solid"===r)i.css("background",p);else{var c,d="linear-gradient(to bottom, "+a("input.alp-control-bg-top").val()+" 0%,"+p+" 100%)";i.css("background",d)}}function g(a){var e,i;j=a.attr("style"),a.css("font-size",a.attr("data-alp-fontsize-h")),a.css("color",a.attr("data-alp-fontcolor-h")),"on"===a.attr("data-alp-textshadow-enable")&&a.css("textShadow",a.attr("data-alp-textshadow-h")),a.css("padding",a.attr("data-alp-padding-h")),"on"===a.attr("data-alp-boxshadow-enable")&&a.css("boxShadow",a.attr("data-alp-boxshadow-h")),a.css("borderRadius",a.attr("data-alp-border-radius-h")),a.css("border",a.attr("data-alp-border-h")),a.css("background",a.attr("data-alp-bg-h"))}function u(a){a.attr("style",j)}function k(){a("#dialog-btn-saved").dialog("close");var e=a(".alp-button-id").val(),i={action:"amalinkspro_get_cta_button_styles",btn_id:e};a.ajax({type:"POST",url:ajaxurl,data:i,success:function(i){var o=JSON.parse(i),s=o.text["font-color"],t=o.text["font-color-h"],l=o.text["font-family-type"],n=o.text["font-family"],r=o.text["font-family-google"],p=o.text["font-size"],c=o.text["font-size-h"],d=o.text["textshadow-enable"],m=o.text["textshadow-blur"],h=o.text["textshadow-blur-h"],v=o.text["textshadow-color"],g=o.text["textshadow-color-h"],u=o.text["textshadow-x"],k=o.text["textshadow-x-h"],f=o.text["textshadow-y"],w=o.text["textshadow-y-h"],b=o.box["boxshadow-enable"],x=o.box["boxshadow-blur"],y=o.box["boxshadow-blur-h"],C=o.box["boxshadow-color"],I=o.box["boxshadow-color-h"],_=o.box["boxshadow-x"],P=o.box["boxshadow-x-h"],L=o.box["boxshadow-y"],S=o.box["boxshadow-y-h"],j=o.box["padding-t"],R=o.box["padding-t-h"],U=o.box["padding-r"],A=o.box["padding-r-h"],T=o.box["padding-b"],z=o.box["padding-b-h"],O=o.box["padding-l"],D=o.box["padding-l-h"],M=o.border["border-color"],E=o.border["border-color-h"],N=o.border["border-radius"],B=o.border["border-radius-h"],H=o.border["border-width"],V=o.border["border-width-h"],F=o.background["bg-type"],Y=o.background["bg-type-h"],W=o.background["bg-solid-color"],q=o.background["bg-solid-color-h"],G=o.background["bg-top-color"],J=o.background["bg-top-color-h"],X,Q;if("1"===l)var n=r;else var n=n;if("on"==d)var $=u+"px "+f+"px "+m+"px "+v;else var $="none";if("on"==b)var K=_+"px "+L+"px "+x+"px "+C;else var K="none";if("bg-solid"==F)var Z=W;else if("bg-gradient"==F)var Z="linear-gradient("+G+" 0%,"+W+" 100%)";var aa={color:s,fontSize:p+"px",fontFamily:n,textShadow:$,boxShadow:K,padding:j+"px "+U+"px "+T+"px "+O+"px",border:H+"px solid "+M,borderRadius:N+"px",background:Z},ea=a(".amalinkspro-css-button-initial");if(ea.attr("data-ctabtn-id",e),ea.css(aa),ea.attr("data-alp-textshadow-enable",d),"on"==d)var ia=k+"px "+w+"px "+h+"px "+g;else var ia="none";if(ea.attr("data-alp-textshadow-h",ia),ea.attr("data-alp-fontsize-h",c+"px"),ea.attr("data-alp-fontcolor-h",t),"on"==b)var oa=P+"px "+S+"px "+y+"px "+I;else var oa="none";if(ea.attr("data-alp-boxshadow-enable",oa),"on"==b)var oa=P+"px "+S+"px "+y+"px "+I;else var oa="none";ea.attr("data-alp-boxshadow-h",oa);var sa=R+"px "+A+"px "+z+"px "+D+"px";ea.attr("data-alp-padding-h",sa);var ta=V+"px solid "+E;if(ea.attr("data-alp-border-h",ta),ea.attr("data-alp-border-radius-h",B),"bg-solid"==Y)var la=q;else if("bg-gradient"==Y)var la="linear-gradient("+J+" 0%,"+q+" 100%)";ea.attr("data-alp-bg-h",la)}}),a(".js-amalinkspro-edit-link:visible").click();var o=setTimeout(function(){a(".amalinkspro-close-ctabuilder").click()},300),s=setTimeout(function(){var e=a(".amalinkspro-linktype-preview-boxes").offset().top-a(".amalinkspro-linktype-preview-boxes").parent().offset().top-a(".amalinkspro-linktype-preview-boxes").parent().scrollTop();a("#amalinkspro-media-window-content").animate({scrollTop:e},{duration:"medium",easing:"swing"})},900)}function f(e){var i={text:{}};i.text["font-family-type"]=a(".alp-control-enable-googlefonts").val(),i.text["font-family"]=a(".alp-control-font-family").find(":selected").val(),i.text["font-family-google"]=a(".alp-control-font-family-google").find(":selected").val(),i.text["font-size"]=a(".alp-control-font-size").slider("option","value"),i.text["font-color"]=a(".alp-control-font-color").val(),i.text["textshadow-enable"]=a(".alp-control-textshadow-enable").val(),i.text["textshadow-color"]=a(".alp-control-textshadow-color").val(),i.text["textshadow-x"]=a(".alp-control-textshadow-x").slider("option","value"),i.text["textshadow-y"]=a(".alp-control-textshadow-y").slider("option","value"),i.text["textshadow-blur"]=a(".alp-control-textshadow-blur").slider("option","value"),i.text["font-size-h"]=a(".alp-control-font-size-hover").slider("option","value"),i.text["font-color-h"]=a(".alp-control-font-color-hover").val(),i.text["textshadow-color-h"]=a(".alp-control-textshadow-color-hover").val(),i.text["textshadow-x-h"]=a(".alp-control-textshadow-x-hover").slider("option","value"),i.text["textshadow-y-h"]=a(".alp-control-textshadow-y-hover").slider("option","value"),i.text["textshadow-blur-h"]=a(".alp-control-textshadow-blur-hover").slider("option","value"),i.box={},i.box["padding-t"]=a(".alp-control-padding-top").slider("option","value"),i.box["padding-r"]=a(".alp-control-padding-right").slider("option","value"),i.box["padding-b"]=a(".alp-control-padding-bottom").slider("option","value"),i.box["padding-l"]=a(".alp-control-padding-left").slider("option","value"),i.box["boxshadow-enable"]=a(".alp-control-boxshadow-enable").val(),i.box["boxshadow-color"]=a(".alp-control-boxshadow-color").val(),i.box["boxshadow-x"]=a(".alp-control-boxshadow-x").slider("option","value"),i.box["boxshadow-y"]=a(".alp-control-boxshadow-y").slider("option","value"),i.box["boxshadow-blur"]=a(".alp-control-boxshadow-blur").slider("option","value"),i.box["padding-t-h"]=a(".alp-control-padding-top-hover").slider("option","value"),i.box["padding-r-h"]=a(".alp-control-padding-right-hover").slider("option","value"),i.box["padding-b-h"]=a(".alp-control-padding-bottom-hover").slider("option","value"),i.box["padding-l-h"]=a(".alp-control-padding-left-hover").slider("option","value"),i.box["boxshadow-color-h"]=a(".alp-control-boxshadow-color-hover").val(),i.box["boxshadow-x-h"]=a(".alp-control-boxshadow-x-hover").slider("option","value"),i.box["boxshadow-y-h"]=a(".alp-control-boxshadow-y-hover").slider("option","value"),i.box["boxshadow-blur-h"]=a(".alp-control-boxshadow-blur-hover").slider("option","value"),i.border={},i.border["border-radius"]=a(".alp-control-border-radius").slider("option","value"),i.border["border-width"]=a(".alp-control-border-width").slider("option","value"),i.border["border-color"]=a(".alp-control-border-color").val(),i.border["border-radius-h"]=a(".alp-control-border-radius-hover").slider("option","value"),i.border["border-width-h"]=a(".alp-control-border-width-hover").slider("option","value"),i.border["border-color-h"]=a(".alp-control-border-color-hover").val(),i.background={},i.background["bg-type"]=a(".alp-control-background-type:checked").val(),i.background["bg-solid-color"]=a(".alp-control-bg-solid").val(),i.background["bg-top-color"]=a(".alp-control-bg-top").val(),i.background["bg-type-h"]=a(".alp-control-background-type-hover:checked").val(),i.background["bg-solid-color-h"]=a(".alp-control-bg-solid-hover").val(),i.background["bg-top-color-h"]=a(".alp-control-bg-top-hover").val();var o={action:"alp_save_cta_button",alp_cta_btn_styles_json:i,button_id:e,dataType:"JSON"};a.ajax({type:"POST",url:ajaxurl,data:o,success:function(e){if("error"===e)alert("There was an error!");else{a(".save-cta-btn.new-btn").removeClass("btn-shown"),a(".save-cta-btn.update-btn").addClass("btn-shown"),a(".save-cta-btn.save-btn").addClass("btn-shown"),a("#dialog-btn-saved").dialog("open");var i=a(".alp-button-id").val(),o=parseInt(i)+1}},complete:function(a){}})}function w(){var e={action:"amalinkspro_load_premade_cta_buttons"};a.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){a("#alp_load_editor_cta_buttons").html(e)},complete:function(a){}})}function b(){var e=a(".alp-hidden-img-chooser .amalinkspro-chosen-api-img").find("img").attr("src"),i=a(".alp-hidden-img-chooser .amalinkspro-chosen-api-img").attr("data-api-img");a(".alp-hidden-img-chooser").fadeOut(300),a(".alp-img-swap-ready").closest(".alp-showcase-img-wrap").attr("data-api-img",i),a(".alp-img-swap-ready").closest(".alp-showcase-img-wrap").find(".js-edit-showcase-image").attr("data-api-img",i),a(".alp-img-swap-ready").closest(".alp-showcase-img-wrap").find(".amalinkspro-chosen-product-main-img").attr("data-api-img",i),a(".alp-img-swap-ready").closest(".amalinkspro-linktype-preview-showcase").attr("data-amalinkspro-images",i),a("img.amalinkspro-chosen-product-main-img").attr("src",e),a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}function x(e,i){a.ajax({type:"POST",url:ajaxurl,data:e,success:function(a){},complete:function(a){i.closest(".amalinkspro-settings-form-block").find(".option-message").removeClass("option-message-saving").addClass("option-message-saved").html(a.responseText).delay(1e3).fadeOut(600,function(){i.closest(".amalinkspro-settings-form-block").find(".option-message").removeClass("option-message-saved")}),i.closest(".amalinkspro-settings-form-block").toggleClass("checkbox-checked")}})}console.log("API In Use?"),console.log(ALPglobal.AlpNoAPI),ALPglobal&&ALPglobal.AlpNoAPI&&"noapi"===ALPglobal.AlpNoAPI?a("body").addClass("alp-noapi"):a("body").addClass("alp-yesapi");var y={action:"amalinkspro_js_debug_check"};a.ajax({type:"POST",url:ajaxurl,data:y,complete:function(a){"debug-on"===a.responseText?window.amalinkspro_js_debug_check=!0:window.amalinkspro_js_debug_check=!1}});var C=a("body.wp-admin.amalinks-pro_page_amalinkspro-settings");if(C.find("#submitdiv").find("#publish").val("Save Changes"),(C=a("body.wp-admin.amalinks-pro_page_amalinkspro-settings-tables")).find("#submitdiv").find("#publish").val("Save Changes"),a("body.amalinks-pro_page_amalinkspro-settings").length||a("body.amalinks-pro_page_amalinkspro-settings-tables").length){var I=a("#submitdiv").clone();a("#poststuff").append(I),a("body").on("keyup",".acf-field input[type=text],.acf-field input[type=number]",function(){a("#major-publishing-actions input[type=submit]").addClass("needs-saved")}),a("body").on("change",".acf-field select, .acf-field input[type=checkbox],.acf-field input[type=number]",function(){a("#major-publishing-actions input[type=submit]").addClass("needs-saved")}),a("body").on("keyup",".acf-field textarea",function(){a("#major-publishing-actions input[type=submit]").addClass("needs-saved")})}a("body").on("click","#alp-clear-transient-button",function(){e()});var _="none";a(".amalinkspro-linktype-preview-edit-left").matchHeight(),a(".amalinkspro-linktype-preview-edit-right").matchHeight();var P="";a("body").on("click",".alp-amazon-api-star-rating a",function(a){a.preventDefault()}),a("body").on("click",".alp-text-link-dummy.link-disabled",function(a){a.preventDefault(),alert("Search for a product first with the big red button to the right")}),a("body").on("click",".alp-text-link-dummy:not(.link-disabled)",function(a){var e;confirm("Opening your product link on Amazon in a new window.")||a.preventDefault()}),a("body").on("click",".alp-img-link-dummy.link-disabled",function(a){a.preventDefault(),alert("Search for a product first with the big red button to the right")}),a("body").on("click",".alp-img-link-dummy:not(.link-disabled)",function(a){a.preventDefault()}),a("body").on("click",".amalinkspro-activate",function(){var e=a(this).closest(".license-form").find(".amalinkspro-license").val(),o=a(this).closest(".license-form").find(".amalinkspro-license").attr("id"),s=a(this).closest(".license-form").find("#amalinkspro_product").val(),t;a(".amalinkspro-media-window-content").addClass("scroll-locked"),""!=e&&""!=o?(i({action:"activate_amalinkspro_license",license:e,plugin:o,edd_name:s}),window.amalinkspro_js_debug_check&&(console.log("click event triggered to activate ALP software license"),console.log("licnense: "+e)),a(this).closest(".alp-option-box-inner").find(".amalinkspro-license-loading-gif").fadeIn(300)):(alert("Your license field does not contain a valid license. Please try again."),window.amalinkspro_js_debug_check&&(console.log("click event triggered to activate ALP software license"),console.log("licnense: "+e),console.log("ERROR: Your license field does not contain a valid license. Please try again.")))}),a("body").on("click",".amalinkspro-deactivate",function(){var e=a(this).closest(".license-form").find(".amalinkspro-license").val(),i=a(this).closest(".license-form").find(".amalinkspro-license").attr("id"),s=a(this).closest(".license-form").find("#amalinkspro_product").val(),t;console.log(e,i,s),a(this).closest(".alp-option-box-inner").find(".amalinkspro-license-loading-gif").fadeIn(300),a(".amalinkspro-media-window-content").addClass("scroll-locked"),""!=e?o({action:"deactivate_amalinkspro_license",license:e,plugin:i,edd_name:s}):alert("Your license field does not contain a valid license. Please try again.")}),a("body").on("click",".alp-js-clear-license",function(e){if(e.preventDefault(),""!==a(this).closest(".alp-option-box-inner").find("input.amalinkspro-license").val()){var i=a(this).closest(".alp-option-box-inner").find(".amalinkspro-license-loading-gif"),o=a(this).closest(".license-form").find("input.amalinkspro-license").attr("id");i.fadeIn(300),a.ajax({type:"POST",url:ajaxurl,data:{action:"alp_clear_license",plugin:o},success:function(e){var s="#"+o,t=a(s).closest(".wrap.settings-section");"amalinkspro_license"==o?t.find("h2.welcome-heading-primary").html("<strong>STEP 1: </strong> Activate your AmaLinks Pro License!"):"amalinkspro_tables_license"==o&&t.find("h2.welcome-heading-primary").html("Activate your AmaLinks Pro  Tables Add-on License"),a("#"+o).closest(".license-message").attr("class","license-message"),a(s).closest(".license-form").find("input.amalinkspro-deactivate").attr("name","amalinksproactivate").removeClass("amalinkspro-deactivate").addClass("amalinkspro-activate").val("Activate"),a(s).val(""),i.fadeOut(300)},complete:function(a){}})}}),a("body").on("click",".js-amalinkspro-test-api",function(){var e;a(".amalinkspro-apitest-loading-gif").show(),s({action:"amazon_api_connection_test"})}),a("body").on("click","#insert-amalinkspro-media",function(e){e.preventDefault(),a(this).attr("data-alp-block")?("alp-table-shortcode"==(_=a(this).attr("data-alp-block"))?(a(".js-amalinkspro-launch-table-addon").click(),a(".amalinkspro-close-tablebuilder-modal").hide()):(a(".amalinkspro-close-tablebuilder-modal").show(),a("#amalinkspro-tablebuilder").hide()),"none"==_?(a(".js-insert-table-shortcode-into-editor-from-all").show(),a(".js-insert-table-shortcode-into-block-from-all").hide()):(a(".js-insert-table-shortcode-into-editor-from-all").hide(),a(".js-insert-table-shortcode-into-block-from-all").show()),"ama-image-link-noapi"==_?(a("#alp-noapi-image-gut").addClass("on-display"),a(".amalinkspro-goto-step3").hide()):a("#alp-step-1").addClass("on-display"),"ama-noapi-showcase-shortcode"==_?(a("#alp-step-1").addClass("on-display"),a(".alp-js-noapi-image, .alp-js-noapi-ctabutton").hide(),a(".alp-js-noapi-showcase").show(),a("#alp-step-1").find(".amalinkspro-popup-form .noapi-h2").text("STEP 2: Click the Button to Build Your Showcase"),a(".amalinkspro-goto-step3").find(".amalinkspro-final-step-btn").remove(),a(".amalinkspro-goto-step3").append(a('<a href="#" class="js-insert-showcase-shortcode-into-block alp-noapi amalinkspro-final-step-btn amalinkspro-next-action">Insert into Gutenberg</a>')).show()):a("#alp-step-1").addClass("on-display"),"ama-noapi-cta-shortcode"==_?(a("#alp-step-1").addClass("on-display"),a(".alp-js-noapi-image, .alp-js-noapi-showcase").hide(),a(".alp-js-noapi-ctabutton").show(),a("#alp-step-1").find(".amalinkspro-popup-form .noapi-h2").text("STEP 2: Click the Button to Build Your CTA Button"),a(".amalinkspro-goto-step3").find(".amalinkspro-final-step-btn").remove(),a(".amalinkspro-goto-step3").append(a('<a href="#" class="js-insert-cta-shortcode-into-block alp-noapi amalinkspro-final-step-btn amalinkspro-next-action">Insert into Gutenberg</a>')).show()):a("#alp-step-1").addClass("on-display")):a("#alp-step-1").addClass("on-display"),a("#amalinkspro-media-window").fadeIn(100),a("#amalinkspro-close-modal").fadeIn(100),a("body").addClass("scroll-locked"),window.amalinkspro_js_debug_check&&console.log("Opened ALP Modal takeover screen"),a(this).attr("data-alp-block")&&"none"!==a(this).attr("data-alp-block")?(a(".alp-tablebuilder-start").hide(),"ama-image-link-noapi"!==a(this).attr("data-alp-block")?(console.log("not the NO-API block"),a("#alp-noapi-image-gut").removeClass("alp-step-wrap-active on-display").hide()):(a("#alp-step-1").removeClass("alp-step-wrap-active on-display").hide(),a("#alp-noapi-image-gut").addClass("alp-step-wrap-active on-display").show()),window.amalinksproBlockType&&window.amalinksproBlockType!==_&&(a(".alp-step-2").removeClass("alp-step-active").addClass("alp-step-disabled"),a("#alp-step-2").hide(),a(".alp-step-1").addClass("alp-step-active"),a("#alp-step-1").show(),a(".amalinkspro-linktype-preview-cta-link").removeClass("amalinkspro-chosen-linktype").hide(),a(".amalinkspro-linktype-preview-showcase").removeClass("amalinkspro-chosen-linktype").hide()),window.amalinksproBlockType=_,window.amalinkspro_js_debug_check&&(console.log("Gutenberg Enabled"),console.log("ALP block type: "+_))):a(".alp-tablebuilder-start").show()}),a("body").on("click","#amalinkspro-close-modal, .amalinkspro-close-modal",function(e){e.preventDefault(),a("#amalinkspro-media-window").fadeOut(100),a("#amalinkspro-close-modal").fadeOut(100),
a("body").removeClass("scroll-locked")});var L="",S="";a("body").on("click",".js-amalinkspro-insert-final-link-shortcode",function(e){e.preventDefault();var i=t();null!=tinymce.activeEditor&&tinymce.activeEditor.execCommand("mceInsertContent",!1,i),a("#amalinkspro-media-window").fadeOut(100),a("#amalinkspro-close-modal").fadeOut(100),a("body").removeClass("scroll-locked")}),a("body").on("click",".alp-add-feature",function(e){a('<li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Click to edit<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li>').insertBefore(a(this).closest("li"))}),a("body").on("click keyup","input#alp-showcase-width",function(e){a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").attr("data-alp-width",a(this).val()),a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase .amalinkspro-showcase").css("width",a(this).val()+"px")}),a("body").on("click","input[name=alp-showcase-alignment-noapi]",function(e){var i=a("input[name=alp-showcase-alignment-noapi]:checked").val();a(".alp-noapi-image-preview").length&&("alignright"===i?a(".alp-noapi-image-preview-step3").find("img").attr("class","alp-noapi-img alignright"):"aligncenter"===i?a(".alp-noapi-image-preview-step3").find("img").attr("class","alp-noapi-img aligncenter"):"alignleft"===i?a(".alp-noapi-image-preview-step3").find("img").attr("class","alp-noapi-img alignleft"):"alignnone"===i&&a(".alp-noapi-image-preview-step3").find("img").attr("class","alp-noapi-img alignnone"))}),a("body").on("click","input[name=alp-showcase-alignment]",function(e){var i=a("input[name=alp-showcase-alignment]:checked").val();a(".amalinkspro-linktype-preview-image-link.amalinkspro-chosen-linktype").length&&("alignright"===i?a(".amalinkspro-linktype-preview-image-link").find("img.amalinkspro-image-link-img").attr("class","amalinkspro-image-link-img alignright"):"aligncenter"===i?a(".amalinkspro-linktype-preview-image-link").find("img.amalinkspro-image-link-img").attr("class","amalinkspro-image-link-img aligncenter"):"alignleft"===i?a(".amalinkspro-linktype-preview-image-link").find("img.amalinkspro-image-link-img").attr("class","amalinkspro-image-link-img alignleft"):"alignnone"===i&&a(".amalinkspro-linktype-preview-image-link").find("img.amalinkspro-image-link-img").attr("class","amalinkspro-image-link-img alignnone")),a(".amalinkspro-linktype-preview-showcase.amalinkspro-chosen-linktype").length&&("alignright"===i?a(".amalinkspro-linktype-preview-showcase").find(".amalinkspro-showcase-preview").addClass("alignright").removeClass("aligncenter alignleft alignnone"):"aligncenter"===i?a(".amalinkspro-linktype-preview-showcase").find(".amalinkspro-showcase-preview").addClass("aligncenter").removeClass("alignright alignleft alignnone"):"alignleft"===i?a(".amalinkspro-linktype-preview-showcase").find(".amalinkspro-showcase-preview").addClass("alignleft").removeClass("aligncenter alignright alignnone"):"alignnone"===i&&a(".amalinkspro-linktype-preview-showcase").find(".amalinkspro-showcase-preview").addClass("alignnone").removeClass("aligncenter alignleft alignright"))}),a("body").on("click",".js-amalinkspro-insert-final-link-html",function(e){e.preventDefault();var i={action:"amazon_api_get_store_url_ajax"};a.ajax({type:"POST",url:ajaxurl,data:i,success:function(e){var i="",o=a("#alp-step-3").find(".amalinkspro-linktype-preview"),s=o.attr("data-amalinkspro-linktype"),t=o.attr("data-amalinkspro-asin"),l=a("#alp-step-3").find(".amalinkspro-choose-associate-id-select").val();if(a("#alp-new-window").is(":checked"))var n=' target="_blank"';else var n="";if(a("#alp-nofollow").is(":checked"))var r=' rel="nofollow"';else var r="";if(a("#alp-addtocart").is(":checked"))var p="true",c=" alp-add-to-cart-true";else var p="false",c="";var i="",d="amazon.com";if(d=a.trim(e)?e:"amazon.com",a("#alp-showcase-textlink-p").is(":checked")&&(i+='<p class="amalinkspro-p-wrap">'),"text-link"===s){var m=tinymce.activeEditor.selection.getContent(),h;if(""!==m)var v=m;else var v=o.attr("data-amalinkspro-linktext");i+='<a class="amalinkspro-text-link'+c+' apilink" href="'+(h=o.find(".amalinkspro-text-link-preview-p a").attr("href"))+'"'+n+r+' data-alp-asin="'+t+'">'+v+"</a>"}else if("image-link"===s){var g=a("input[name=alp-showcase-alignment]:checked").val();if("alignright"===g)var u="alignright";else if("aligncenter"===g)var u="aligncenter";else if("alignleft"===g)var u="alignleft";else if("alignnone"===g)var u="";else var u="";var h=o.find(".amalinkspro-image-link-link").attr("href"),k=a("#alp-step-3 .amalinkspro-linktype-preview").attr("data-amalinkspro-linktext"),f;i+='<a class="amalinkspro-img-link'+c+' apilink" href="'+h+'"'+n+r+' data-alp-asin="'+t+'"><img class="'+u+'" src="'+o.attr("data-amalinkspro-linkimage")+'" alt="'+k+'" /></a>'}else var i="Error: invalid link type";a("#alp-showcase-textlink-p").is(":checked")&&(i+="</p>"),tinymce.activeEditor.execCommand("mceInsertContent",!1,i),a("#amalinkspro-media-window").fadeOut(100),a("#amalinkspro-close-modal").fadeOut(100),a("body").removeClass("scroll-locked")}})}),a("body").on("click",".js-amalinkspro-insert-noapi-html",function(e){if(e.preventDefault(),a(this).hasClass("alp-gut-img"))console.log("gut img noapi inserted");else{var i=a("#alp-noapi-3").find(".alp-noapi-img-wrap").html();""===i&&(i="<h2>Error</h2>"),tinymce.activeEditor.execCommand("mceInsertContent",!1,i),a("#amalinkspro-media-window").fadeOut(100),a("#amalinkspro-close-modal").fadeOut(100),a("body").removeClass("scroll-locked")}}),a("body").on("click",".alp-step:not(.alp-step-active, .alp-step-disabled)",function(){if(a(".alp-step").removeClass("alp-step-active"),a(this).addClass("alp-step-active"),a(".alp-step-wrap").removeClass("alp-step-wrap-active").hide(),a(this).hasClass("alp-noapi"))a(this).hasClass("alp-noapi-image")?a(this).hasClass("alp-step-1")?(a("#alp-step-1").addClass("on-display alp-step-wrap-active").show(),a("#alp-noapi-2").removeClass("alp-step-wrap-active").hide(),a("#alp-noapi-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-2")?(a("#alp-noapi-2").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-noapi-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-3")&&(a("#alp-noapi-3").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-noapi-2").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-noapi-showcase")?a(this).hasClass("alp-step-1")?(a("#alp-step-1").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-2").removeClass("alp-step-wrap-active").hide(),a("#alp-step-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-2")?(a("#alp-step-2").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-3")&&(a("#alp-step-3").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-2").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-noapi-ctabutton")&&(a(this).hasClass("alp-step-1")?(a("#alp-step-1").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-2").removeClass("alp-step-wrap-active").hide(),a("#alp-step-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-2")?(a("#alp-step-2").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-3").removeClass("alp-step-wrap-active").hide()):a(this).hasClass("alp-step-3")&&(a("#alp-step-3").addClass("on-display alp-step-wrap-active").show(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-2").removeClass("alp-step-wrap-active").hide()));else{var e=a(this).attr("data-alp-step");a("#"+e).show()}a("#amalinkspro-media-window-content").animate({scrollTop:0},0)}),a("body").on("click",".js-alp-insert-img-html-block",function(){var e=a("#alp-noapi-image-code-field-gut").val(),i=a("<div/>").html(e).contents();console.log("img_code_obj: "),console.log(i),i&&i[0]&&i[0].children&&i[0].children[0]&&i[0].href&&i[1].src?(console.log("img_src: "+i[0].children[0].src),window.alp_block_props.setAttributes({img_src:i[0].children[0].src,href:i[0].href,pixel_src:i[1].src})):window.amalinkspro_js_debug_check&&(console.log("img_code_obj does not match the SiteStripe html profile"),console.log("img_code_obj: "),console.log(i)),a(".amalinkspro-close-modal").click()}),a("#amalinkspro-search-keyword").keypress(function(e){13==e.keyCode&&(e.preventDefault(),a(".js-amalinkspro-mediamodal-search").click())}),a("body").off("click",".js-amalinkspro-mediamodal-search").on("click",".js-amalinkspro-mediamodal-search",function(e){if(a(this).hasClass("alp-no-api")&&a(this).hasClass("alp-gut-search")){console.log("gut editor called");var i,o=(i=a(this).closest(".amalinkspro-popup-form")).find("#amalinkspro-search-keyword-noapi").val(),s=i.find("#amalinkspro-search-locale-noapi").val(),t="amazon.com";if(""!==i.find("#amalinkspro-store-by-locale-noapi").val()&&(t=i.find("#amalinkspro-store-by-locale-noapi").val()),!o)return;window.open("https://www."+t+"/s?k="+encodeURI(o))}else{var i,o=(i=a(this).closest("p")).find("#amalinkspro-search-keyword").val(),s=i.find("#amalinkspro-search-locale").val(),t="amazon.com";""!==i.find("#amalinkspro-store-by-locale").val()&&(t=i.find("#amalinkspro-store-by-locale").val());var n=a("#alp-api5-select-id").val(),r;if(!o)return;if(a(this).hasClass("alp-no-api"))window.open("https://www."+t+"/s?k="+encodeURI(o));else a(".amalinkspro-search-results-list").removeClass("on-display"),a(".amalinkspro-search-pagination").removeClass("on-display"),a(".amalinkspro-loading-overlay").fadeIn(300),l({action:"alp_paapi5_get_products",term:o,locale:s,aff_id:n,page:"1"})}}),a("body").on("click",".alp-search-page",function(){a(".amalinkspro-search-results-list").removeClass("on-display"),a(".amalinkspro-search-pagination").removeClass("on-display");var e=a(this).closest(".alp-step-wrap").find(".amalinkspro-popup-form p"),i,o,s,t;l({action:"alp_paapi5_get_products",term:e.find("#amalinkspro-search-keyword").val(),locale:e.find("#amalinkspro-search-locale").val(),page:a(this).attr("data-api-page"),parse:!0}),a(".amalinkspro-loading-overlay").fadeIn(300)}),a("body").on("click",".js-amalinkspro-choose-product",function(){var e=a(this).attr("data-amalinkspro-item-title"),i=a(this).attr("data-amalinkspro-item-img-med"),o=a(this).attr("data-amalinkspro-item-asin");if(window.alpSearchProducts)var s=window.alpSearchProducts;else var s="none";var t={action:"alp_paapi5_get_products_info",asin:o};a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-linktype-active"),a(".js-amalinkspro-choose-product").removeClass("amalinkspro-next-action"),a(".js-amalinkspro-choose-link-type").addClass("amalinkspro-next-action"),a(".alp-step-2").addClass("alp-step-disabled"),a(".amalinkspro-linktype-preview-boxes").find(".amalinkspro-associate-ids-form").remove(),a(".amalinkspro-linktype-preview-boxes").find(".alp-alignment-settings .alp-step3-setting-wrap").remove(),a(".amalinkspro-linktype-preview").removeClass("amalinkspro-chosen-linktype").hide(),r(t,s)}),a("body").on("click",".js-insert-image-into-block",function(e){var i=a(".amalinkspro-linktype-preview-image-link").find(".amalinkspro-image-link-img").attr("src");window.alp_block_props.setAttributes({url:i}),a(".components-panel__body.is-opened").find("#insert-amalinkspro-media").text("Edit Image"),a(".amalinkspro-close-modal").click()}),a("body").on("click",".js-insert-showcase-shortcode-into-block",function(e){e.preventDefault();var i=a(".amalinkspro-linktype-preview-boxes");if(a(this).hasClass("alp-noapi"))var o=i.find("select.amalinkspro-choose-associate-id-select").val();else var o="";if(a("#alp-new-window").is(":checked"))var s=1;else var s=0;if(a("#alp-nofollow").is(":checked"))var t=1;else var t=0;if(a("#alp-addtocart").is(":checked"))var l=1;else var l=0;var n=window.product_href,r=a(".amalinkspro-linktype-preview-showcase").attr("data-amalinkspro-asin"),p=a(".amalinkspro-linktype-preview-showcase"),c=a(".amalinkspro-showcase-preview:not(.not-selected)").find(".alp-showcase-title").text(),d=p.attr("data-amalinkspro-linktext-button"),m=p.attr("data-amalinkspro-specs"),h=p.attr("data-amalinkspro-images"),v=p.attr("data-alp-showcase-id"),g=a("#alp-noapi-showcaseimage-code-field").val();if(g&&(h=encodeURIComponent(g)),"4"===v){var u=a(".amalinkspro-showcase-4 .showcase-4-features li.enabled-spec"),k=u.length;u.each(function(e,i){m+=a(this).find(".alp-showcase-spec-val-editable").text().replace(/["']/g,""),e!==k-1&&(m+="~~~")})}else var m=p.attr("data-amalinkspro-specs");if(a("#alp-showcase-link-images").is(":checked"))var f="true";else var f="false";if(a("#alp-showcase-stack-images").is(":checked"))var w="true";else var w="false";if(a('input[name="alp-showcase-alignment"]').is(":checked"))var b=a("input[name='alp-showcase-alignment']:checked").val();else var b="alignnone";var x=p.attr("data-alp-hide-prime"),y=p.attr("data-alp-hide-image"),C=p.attr("data-alp-hide-reviews"),I=p.attr("data-alp-hide-price"),_="";if(console.log("apilink 1: "+_),window&&window.amalinksproPaapi5ChosenItem&&window.amalinksproPaapi5ChosenItem.DetailPageURL)var _=window.amalinksproPaapi5ChosenItem.DetailPageURL;else{var _="";if(""===a("#alp-showcase-noapi-link").val())return void alert("You must enter a product URL.");var _=a("#alp-showcase-noapi-link").val()}var P='[amalinkspro type="showcase" asin="'+r+'" apilink="'+_+'" associate-id="'+o+'" new-window="'+s+'" addtocart="'+l+'" nofollow="'+t+'" sc-id="'+v+'" imgs="'+h+'" link-imgs="'+f+'" stack-imgs="'+w+'" specs="'+m+'" btn-color="#ff9900" btn-text="'+d+'" alignment="'+b+'" hide-prime="'+x+'" hide-image="'+y+'" hide-reviews="'+C+'" hide-price="'+I+'"]'+c+"[/amalinkspro]";window.alp_block_props.setAttributes({shortcode:P,noFollow:t,linkTarget:s,href:n,asin:r}),a(".components-panel__body.is-opened").find("#insert-amalinkspro-media").text("Edit Showcase"),a(".amalinkspro-close-modal").click()}),a("body").on("click",".js-insert-cta-shortcode-into-block",function(e){e.preventDefault();var i=a(".amalinkspro-linktype-preview-boxes");if(a(this).hasClass("alp-noapi"))var o="";else var o=i.find("select.amalinkspro-choose-associate-id-select").val();if(a("#alp-new-window").is(":checked"))var s=1;else var s=0;if(a("#alp-nofollow").is(":checked"))var t=1;else var t=0;if(a("#alp-addtocart").is(":checked"))var l=1;else var l=0;var n=window.alf_product_href,r=a(".amalinkspro-linktype-preview-cta-link").attr("data-amalinkspro-asin");if(i.find('input[name="alp-showcase-alignment"]').is(":checked"))var p=i.find("input[name='alp-showcase-alignment']:checked").val();else var p="alignnone";var c=a(".amalinkspro-css-button-initial").text(),d=a(".amalinkspro-linktype-preview-cta-link").find(".amalinkspro-cta-wrap a").attr("data-ctabtn-id"),m=a(".amalinkspro-linktype-preview-cta-link").attr("data-amalinkspro-linktype"),h="";if(""!==a("#alp-ctabutton-noapi-link").val()){var h=a("#alp-ctabutton-noapi-link").val();if(window&&window.amalinksproPaapi5ChosenItem&&window.amalinksproPaapi5ChosenItem.DetailPageURL)var h=window.amalinksproPaapi5ChosenItem.DetailPageURL;else{var h="";if(""!==a("#alp-showcase-noapi-link").val())var h=a("#alp-showcase-noapi-link").val();if("cta-btn-css"==m||"cta-btn-img"===m)var h=a("#alp-ctabutton-noapi-link").val()}if("cta-btn-css"===m)var v='[amalinkspro type="cta-btn-css" ctabtn-id="'+d+'" asin="'+r+'" apilink="'+h+'" associate-id="'+o+'" addtocart="'+l+'" new-window="'+s+'"  nofollow="'+t+'" alignment="'+p+'"]'+c+"[/amalinkspro]";else if("cta-btn-img"===m)var g,v='[amalinkspro type="cta-btn-img" cta_alt="'+c+'" asin="'+r+'" apilink="'+h+'" associate-id="'+o+'" new-window="'+s+'" addtocart="'+l+'" nofollow="'+t+'" alignment="'+p+'"]'+a(".amalinkspro-linktype-preview-cta-link").attr("data-amalinkspro-ctaimage")+"[/amalinkspro]";else var v="The CTA link_type value is not valid.";window.alp_block_props.setAttributes({shortcode:v,noFollow:t,linkTarget:s,href:n,asin:r}),a(".components-panel__body.is-opened").find("#insert-amalinkspro-media").text("Edit Button"),a(".amalinkspro-close-modal").click()}else alert("You must enter a product URL.")}),a("body").on("click",".js-amalinkspro-choose-link-type:not(.amalinkspro-linktype-active)",function(e){e.preventDefault(),a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-linktype-active"),a(this).addClass("amalinkspro-linktype-active");var i=a(this).attr("data-link-type");a(".amalinkspro-linktype-preview").removeClass("amalinkspro-chosen-linktype").fadeOut(100),a(".amalinkspro-linktype-preview-"+i).addClass("amalinkspro-chosen-linktype").fadeIn(100),a(".amalinkspro-goto-step3").fadeIn(100),a(".js-amalinkspro-choose-link-type").removeClass("amalinkspro-next-action"),a(".js-amalinkspro-final-step").addClass("amalinkspro-next-action"),a(".alp-step-3").addClass("alp-step-disabled"),a("#alp-step-3").find(".alp-step3-final-preview").html("");var o=a(".amalinkspro-linktype-preview-boxes").offset().top-a(".amalinkspro-linktype-preview-boxes").parent().offset().top-a(".amalinkspro-linktype-preview-boxes").parent().scrollTop();a("#amalinkspro-media-window-content").animate({scrollTop:o},{duration:"medium",easing:"swing"}),"showcase"===i&&(a(".alp-showcase-loader i").removeClass("dot-expand"),a(".alp-showcase-loader").show(),c())}),a("body").on("click",".alp-js-apidate-disclaimer",function(){a(this).closest(".amalinkspro-showcase").find(".alp-prices-discalimer").fadeIn(100)}),a("body").on("click",".alp-js-close-price-info-popup",function(){a(this).closest(".amalinkspro-showcase").find(".alp-prices-discalimer").fadeOut(100)}),a("body").on("click",".js-amalinkspro-edit-link",function(){if(a(this).hasClass("edit-box-open"))a(this).removeClass("edit-box-open"),a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-linktype-preview-edit").slideUp(100);else{a(".amalinkspro-choose-api-image").matchHeight(),a(this).addClass("edit-box-open");var e=a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-linktype-preview-edit"),i;e.slideDown(100),!0!==wp.alp_gut_active&&a("#amalinkspro-media-window-content").animate({scrollTop:a("#amalinkspro-media-window-content").scrollTop()+a(e).offset().top-120},{duration:"medium",easing:"swing"}),"ctabtn-custom"===a("#amalinkspro-select-cta-btn-type").val()&&a(this).closest(".amalinkspro-linktype-preview").hasClass("amalinkspro-linktype-preview-cta-link")&&d()}}),a('input[name="amalinkspro-edit-textlink-text"]').keyup(function(){var e=a(this).val();a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-text-link-preview-p a").text(e),a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-linktext",e),a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}),a("body").on("keyup",'input[name="alp-showcase-spec-val-editable-textarea"]',function(){var e=a(this).val();a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-linktext",e),a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}),a("body").on("keyup",'input[name="alp-showcase-amalink-editable"]',function(){var e=a(this).val();a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-linktext-button",e),a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}),a("body").on("click",".showcase-4-reviews h2",function(){a(this).closest(".showcase-4-reviews").css("opacity","0.9"),a(this).hasClass("reviews-open")?(a(this).closest(".showcase-4-reviews").find("iframe").animate({maxHeight:"0px"},200,function(){a(this).closest(".showcase-4-reviews").css("opacity","1")}),a(this).removeClass("reviews-open")):(a(this).closest(".showcase-4-reviews").find("iframe").animate({maxHeight:"400px"},200,function(){a(this).closest(".showcase-4-reviews").css("opacity","1")}),a(this).addClass("reviews-open"))}),a("body").on("click",".js-amalinkspro-select-image-size",function(e){e.preventDefault(),a(".amalinkspro-choose-api-image").removeClass("amalinkspro-chosen-api-img"),a(this).closest(".amalinkspro-choose-api-image").addClass("amalinkspro-chosen-api-img");var i=a(this).attr("data-img-size-url");if(!0===wp.alp_gut_active)window.alp_block_props.setAttributes({url:i}),a(".components-panel__body.is-opened").find("#insert-amalinkspro-media").text("Edit Image"),a(".amalinkspro-close-modal").click();else{a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-image-link-img").attr("src",i),a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-linkimage",i);var o=a(this).text();a(".amalinkspro-chosen-size").text("").css("display","none"),a(this).closest(".amalinkspro-choose-api-image").find(".amalinkspro-chosen-size").text(o).css("display","inline-block")}}),a("body").on("click",".js-amalinkspro-edit-cta-link",function(){var e=a(this).closest(".amalinkspro-linktype-preview-edit").find("input[name=amalinkspro-edit-ctalink-text]").val(),i;a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-cta-wrap-preview").hasClass("amalinkspro-cta-button-img")||(a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-cta-link-link").text(e),a(".amalinkspro-css-button.alp-css-button-generator-preview").text(e)),a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-ctatext",e),a(this).closest(".amalinkspro-linktype-preview-edit").slideUp(100),a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-edit-link").removeClass("edit-box-open")}),a('input[name="amalinkspro-edit-ctalink-text"]').keyup(function(){var e=a(this).val(),i;a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-cta-wrap-preview").hasClass("amalinkspro-cta-button-img")||(a(this).closest(".amalinkspro-linktype-preview").find(".amalinkspro-css-button-initial").text(e),a(".amalinkspro-css-button.alp-css-button-generator-preview").text(e),a(".amalinkspro-choose-cta-btn-list").find(".amalinkspro-css-button-admin").text(e)),a(this).closest(".amalinkspro-linktype-preview").attr("data-amalinkspro-ctatext",e)}),a("body").on("click",".js-amalinkspro-final-step",function(e){if(e.preventDefault(),a(this).hasClass("final-step-noapi-image")){if(""!==a("#alp-noapi-image-code-field").val()){a(".alp-step-3").addClass("alp-step-active"),a("#alp-step-2").hide(),a(".alp-step-2").removeClass("alp-step-active").html('<i class="icon-amalinkspro-edit"></i> Back to Step 2'),a(".alp-step-3").removeClass("alp-step-disabled"),a("#alp-noapi-2").removeClass("alp-step-wrap-active").hide(),a("#alp-noapi-3").addClass("on-display alp-step-wrap-active").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0);var i='<span class="alp-noapi-img-wrap">'+a("#alp-noapi-image-code-field").val()+"<span>",o=a(i);a("#alp-new-window-noapi").is(":checked")?o.find("a").attr("target","_blank"):o.find("a").removeAttr("target"),a("#alp-nofollow-noapi").is(":checked")?o.find("a").attr("rel","nofollow"):o.find("a").removeAttr("rel"),o.find("a img").addClass("alp-noapi-img");var s=a("input[name=alp-showcase-alignment-noapi]:checked").val();"alignright"===s?o.find("img").removeClass("aligncenter alignleft alignnone").addClass("alignright"):"aligncenter"===s?o.find("img").removeClass("alignright alignleft alignnone").addClass("aligncenter"):"alignleft"===s?o.find("img").removeClass("aligncenter alignright alignnone").addClass("alignleft"):"alignnone"===s?o.find("img").removeClass("alignright aligncenter alignleft").addClass("alignnone"):o.find("img").removeClass("alignright aligncenter alignleft alignnone"),console.log("yoyo: "),console.log(o.html()),a(".alp-noapi-image-preview").find(".alp-noapi-img-wrap").remove(),a(".alp-noapi-image-preview").prepend(o)}}else{if(a(this).hasClass("final-step-noapi-showcase")){if(""===a("#alp-showcase-noapi-link").val())return void alert("You must enter a product URL.")}else if(a(this).hasClass("final-step-noapi-ctabutton")&&""===a("#alp-ctabutton-noapi-link").val())return void alert("You must enter a product URL.");if(a(".alp-step-3").addClass("alp-step-active"),a("#alp-step-2").removeClass("alp-step-wrap-active").hide(),a(".alp-step-2").removeClass("alp-step-active").html('<i class="icon-amalinkspro-edit"></i> Back to Step 2'),a(".alp-step-3").removeClass("alp-step-disabled"),a("#alp-step-3").addClass("alp-step-wrap-active"),a(".alp-step-3").addClass("alp-step-active"),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".amalinkspro-chosen-linktype").hasClass("amalinkspro-linktype-preview-showcase")){var t;(t=a(this).closest(".alp-step-wrap").find(".amalinkspro-chosen-linktype").clone()).find(".amalinkspro-showcase-preview.not-selected").remove().end(),t.find(".alp-showcase-functions").remove().end(),t.find(".icon-amalinkspro-edit").remove().end(),t.find(".icon-amalinkspro-eye").remove().end(),t.find(".icon-amalinkspro-eye-off").remove().end(),t.find(".icon-amalinkspro-edit").remove().end(),t.find(".js-amalinkspro-edit-link").remove().end(),t.find(".amalinkspro-linktype-preview-edit").remove().end(),t.find("h4").remove().end(),t.find(".amalinkspro-chosen-product-stats-col li").css("cursor","text"),t.find(".amalinkspro-chosen-product-stats-col li").not(".enabled-spec").remove().end(),t.find(".showcase-4-features ul li").not(".enabled-spec").remove().end(),t.find(".amalinkspro-showcase-stats-col.hide-amazon-image").remove().end(),t.find("li.add-showcase-feature").remove().end(),t.find(".showcase-4-reviews.hide-amazon-reviews").remove().end(),t.find(".amalinkspro-showcase-bottom-cta-price.hide-amazon-price").remove().end(),t.find(".top-prime-logo.hide-prime-image").remove().end(),t.find(".amalinkspro-showcase-bottom-cta-link.hide-amazon-button").remove().end();var l=t.attr("data-alp-showcase-id"),n="",r="";if("4"===l){var p=a(".amalinkspro-showcase-4 .showcase-4-features li.enabled-spec"),c=p.length;p.each(function(e,i){n+=a(this).find(".alp-showcase-spec-val-editable").text().replace(/["']/g,""),e!==c-1&&(n+="~~~")}),r=t.find(".amalinkspro-chosen-product-main-img").attr("data-api-img")&&"LargeImage"!==t.find(".amalinkspro-chosen-product-main-img").attr("data-api-img")?""+t.find(".amalinkspro-chosen-product-main-img").attr("data-api-img"):"LargeImage","1"===t.attr("data-alp-hide-price")&&"1"===t.attr("data-alp-hide-button")&&t.find(".amalinkspro-showcase-bottom-cta").remove()}else n="error";t.attr("data-amalinkspro-specs",n),t.attr("data-amalinkspro-images",r),a(".alp-showcase-settings").fadeIn(300)}else{var t;(t=a(this).closest(".alp-step-wrap").find(".amalinkspro-chosen-linktype").clone()).find(".amalinkspro-linktype-preview-edit").remove().end(),t.find(".js-amalinkspro-edit-link").remove().end()}a(".amalinkspro-chosen-linktype").hasClass("amalinkspro-linktype-preview-text-link")&&(a(".alp-textlink-settings").fadeIn(300),a(".alp-alignment-settings").fadeOut(300),a(".alp-showcase-settings").fadeOut(300)),(a(".amalinkspro-chosen-linktype").hasClass("amalinkspro-linktype-preview-cta-link")||a(".amalinkspro-chosen-linktype").hasClass("amalinkspro-linktype-preview-image-link"))&&(t.find(".alp-ctabutton-noapi-link-wrap").remove().end(),a(".alp-alignment-settings").fadeIn(300),a(".alp-textlink-settings").fadeOut(300),a(".alp-showcase-settings").fadeOut(300)),a(".amalinkspro-chosen-linktype").hasClass("amalinkspro-linktype-preview-showcase")&&(a(".alp-textlink-settings").fadeOut(300),a(".alp-alignment-settings").fadeIn(300),a(".alp-showcase-settings").fadeIn(300)),a(".alp-step3-final-preview").html(t);var d=a(this).closest(".alp-step-wrap").find(".amalinkspro-chosen-linktype");a(".js-amalinkspro-insert-final-link-shortcode").show(),d.hasClass("amalinkspro-linktype-preview-cta-link")||d.hasClass("amalinkspro-linktype-preview-showcase")?a(".js-amalinkspro-insert-final-link-html").hide():a(".js-amalinkspro-insert-final-link-html").show(),a(this).removeClass("amalinkspro-next-action"),a(".js-amalinkspro-insert-final-link-shortcode").addClass("amalinkspro-next-action"),a(".js-amalinkspro-insert-final-link-html").addClass("amalinkspro-next-action"),a("#alp-step-2").hide(),a("#alp-step-3").addClass("on-display").show(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0)}}),a("body").on("click",".amalinkspro-column-data .icon-amalinkspro-edit",function(){a(this).hasClass("edit-box-open")?(a(this).removeClass("edit-box-open"),a(this).closest(".amalinkspro-column-data").next(".amalinkspro-edit-data").slideUp(100)):(a(this).addClass("edit-box-open"),a(this).closest(".amalinkspro-column-data").next(".amalinkspro-edit-data").slideDown(100))}),a("#amalinkspro-select-cta-btn-type").length&&null!=wp.editor&&a("#amalinkspro-select-cta-btn-type").on("change",function(){var e=a(this).val();if("ctabtn-ama-img"===e)a("#amalinkspro-open-cta-editor").hide(),a(".amalinkspro-choose-cta-btn").hide(),a(".amalinkspro-chose-custom-cta").hide(),a('input[name="amalinkspro-edit-ctalink-text"]').hide(),a(".amalinkspro-edit-ctalink-text-title").hide(),a(".alp-ama-img-buttons").fadeIn(200),a(".amalinkspro-chose-img-cta").fadeIn(200),a(this).closest(".amalinkspro-linktype-preview-cta-link").attr("data-amalinkspro-linktype","cta-btn-img");else{if("ctabtn-custom"!==e)return;a(".alp-ama-img-buttons").hide(),a(".amalinkspro-chose-img-cta").hide(),a(".alp-ama-img-buttons").hide(),a("#amalinkspro-open-cta-editor").fadeIn(200),a("#amalinkspro-choose-cta-btn").fadeIn(200),a(".amalinkspro-chose-img-cta").hide(200),a('input[name="amalinkspro-edit-ctalink-text"]').show(),a(".amalinkspro-edit-ctalink-text-title").show(),a(".amalinkspro-chose-custom-cta").fadeIn(200),a(this).closest(".amalinkspro-linktype-preview-cta-link").attr("data-amalinkspro-linktype","cta-btn-css")}}),a("body").on("click","#amalinkspro-open-cta-editor",function(){a("#alp-btn-generator-preview").fadeIn(200),a(".alp-btn-generator").fadeIn(200),a(".amalinkspro-cta-btn-manage .save-cta-btn.new-btn").addClass("btn-shown")}),a("body").on("click",".amalinkspro-close-ctabuilder",function(){d(),a("#alp-btn-generator-preview").fadeOut(200),a(".alp-btn-generator").fadeOut(200),a(".amalinkspro-cta-btn-manage .save-cta-btn").removeClass("btn-shown"),a(".amalinkspro-cta-btn-manage .load-cta-btn").removeClass("btn-shown")}),a("body").on("click",".amalinkspro-js-choose-btn",function(){if(a(".js-amalinkspro-edit-link").click(),a(this).hasClass("img-btn")){var e=a(this).closest(".alp-button-id").find("img").attr("src");a(".amalinkspro-linktype-preview").attr("data-amalinkspro-ctastyle","cta-btn-image"),a(".amalinkspro-linktype-preview").attr("data-amalinkspro-ctaimage",e),a(".amalinkspro-linktype-preview-cta-link").find(".amalinkspro-css-button-initial").hide(),a(".amalinkspro-cta-wrap-preview").html('<a class="alp-cta-img" href="#"><img src="'+e+'" alt="Buy on Amazon" /></a>')}else{a(".amalinkspro-cta-wrap-preview").find(".alp-cta-img").remove(),a(".amalinkspro-css-button-admin").fadeIn(300);var i=a(this).closest(".alp-button-id").attr("data-btn-id");a(".amalinkspro-linktype-preview-cta-link").find(".amalinkspro-css-button-initial").show(),
a(".amalinkspro-linktype-preview").attr("data-amalinkspro-ctastyle","cta-btn-text");var o={action:"amalinkspro_get_cta_button_styles",btn_id:i};a.ajax({type:"POST",url:ajaxurl,data:o,success:function(e){var o=JSON.parse(e),s=o.text["font-color"],t=o.text["font-color-h"],l=o.text["font-family-type"],n=o.text["font-family"],r=o.text["font-family-google"],p=o.text["font-size"],c=o.text["font-size-h"],d=o.text["textshadow-enable"],m=o.text["textshadow-blur"],h=o.text["textshadow-blur-h"],v=o.text["textshadow-color"],g=o.text["textshadow-color-h"],u=o.text["textshadow-x"],k=o.text["textshadow-x-h"],f=o.text["textshadow-y"],w=o.text["textshadow-y-h"],b=o.box["boxshadow-enable"],x=o.box["boxshadow-blur"],y=o.box["boxshadow-blur-h"],C=o.box["boxshadow-color"],I=o.box["boxshadow-color-h"],_=o.box["boxshadow-x"],P=o.box["boxshadow-x-h"],L=o.box["boxshadow-y"],S=o.box["boxshadow-y-h"],j=o.box["padding-t"],R=o.box["padding-t-h"],U=o.box["padding-r"],A=o.box["padding-r-h"],T=o.box["padding-b"],z=o.box["padding-b-h"],O=o.box["padding-l"],D=o.box["padding-l-h"],M=o.border["border-color"],E=o.border["border-color-h"],N=o.border["border-radius"],B=o.border["border-radius-h"],H=o.border["border-width"],V=o.border["border-width-h"],F=o.background["bg-type"],Y=o.background["bg-type-h"],W=o.background["bg-solid-color"],q=o.background["bg-solid-color-h"],G=o.background["bg-top-color"],J=o.background["bg-top-color-h"],X,Q;if("1"===l)var n=r;else var n=n;if("on"==d)var $=u+"px "+f+"px "+m+"px "+v;else var $="none";if("on"==b)var K=_+"px "+L+"px "+x+"px "+C;else var K="none";if("bg-solid"==F)var Z=W;else if("bg-gradient"==F)var Z="linear-gradient("+G+" 0%,"+W+" 100%)";var aa={color:s,fontSize:p+"px",fontFamily:n,textShadow:$,boxShadow:K,padding:j+"px "+U+"px "+T+"px "+O+"px",border:H+"px solid "+M,borderRadius:N+"px",background:Z},ea=a(".amalinkspro-css-button-initial");if(ea.attr("data-ctabtn-id",i),ea.css(aa),ea.attr("data-alp-textshadow-enable",d),"on"==d)var ia=k+"px "+w+"px "+h+"px "+g;else var ia="none";if(ea.attr("data-alp-textshadow-h",ia),ea.attr("data-alp-fontsize-h",c+"px"),ea.attr("data-alp-fontcolor-h",t),"on"==b)var oa=P+"px "+S+"px "+y+"px "+I;else var oa="none";if(ea.attr("data-alp-boxshadow-enable",oa),"on"==b)var oa=P+"px "+S+"px "+y+"px "+I;else var oa="none";ea.attr("data-alp-boxshadow-h",oa);var sa=R+"px "+A+"px "+z+"px "+D+"px";ea.attr("data-alp-padding-h",sa);var ta=V+"px solid "+E;if(ea.attr("data-alp-border-h",ta),ea.attr("data-alp-border-radius-h",B),"bg-solid"==Y)var la=q;else if("bg-gradient"==Y)var la="linear-gradient("+J+" 0%,"+q+" 100%)";ea.attr("data-alp-bg-h",la)},complete:function(a){}})}}),a(".alp-css-button-generator-preview").hover(function(){h()},function(){v()});var j="";a("body").on("mouseenter",".amalinkspro-choose-cta-btn-list .amalinkspro-css-button-admin",function(){g(a(this))}),a("body").on("mouseleave",".amalinkspro-choose-cta-btn-list .amalinkspro-css-button-admin",function(){u(a(this))}),a("body").on("mouseenter",".amalinkspro-css-button-initial",function(){g(a(this))}),a("body").on("mouseleave",".amalinkspro-css-button-initial",function(){u(a(this))}),a("body").on("click",".amalinkspro-hover-trigger",function(){var e,i=a(this).closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover");a(this).find(".hv-panel-switch").is(":checked")?(a(this).find(".hv-panel-switch").attr("checked",!1),i.css("transform","translateX( 100% )"),a(this).closest(".alp-btn-generator-controls-section").find(".title-hover-label").removeClass("amalinkspro-visible")):(a(this).find(".hv-panel-switch").attr("checked",!0),i.css("transform","translateX( 0% )"),a(this).closest(".alp-btn-generator-controls-section").find(".title-hover-label").addClass("amalinkspro-visible"))}),a("body").on("click",".alp-btn-generator-controls-section h3",function(){var e=a(this).closest(".alp-btn-generator-controls-section").find(".alp-btn-generator-controls-section-body");a(this).hasClass("cta-btn-box-open")?(e.slideUp(300),a(this).removeClass("cta-btn-box-open")):(e.slideDown(300),a(this).addClass("cta-btn-box-open")),a(this).find("i").toggleClass("icon-amalinkspro-up-circle"),a(this).find("i").toggleClass("icon-amalinkspro-down-circle")}),a(".alp-control-font-family-system").length&&null!=wp.editor&&a(".alp-control-font-family-system").on("change",function(){var e=a(this).val();a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("fontFamily",e)}),a("body").on("click",".alp-control-enable-googlefonts",function(){a(this).is(":checked")?(a(".system-select-wrapper").hide(),a(".google-select-wrapper").show()):(a(".google-select-wrapper").hide(),a(".system-select-wrapper").show())}),a(".alp-control-font-family-google").length&&null!=wp.editor&&a(".alp-control-font-family-google").on("change",function(){var e=a(this).val();a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("fontFamily",e)}),null!=wp.editor&&(a(".alp-control-font-size").slider({min:10,max:60,value:18,step:1,change:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("fontSize",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("fontSize",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-font-size").find(".ui-slider-handle").text("18px"),a(".alp-control-font-color").wpColorPicker({change:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("color",i.color.toString())}}),a(".alp-control-font-size-hover").slider({min:10,max:60,value:18,step:1,change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-font-size-hover").find(".ui-slider-handle").text("18px"),a(".alp-control-font-color-hover").wpColorPicker(),a("body").on("click",".alp-control-textshadow-enable",function(){if(a(this).is(":checked")){a(this).closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").show(),a(this).closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").show();var e=a("input.alp-control-textshadow-color").val(),i,o,s,t=a(".alp-control-textshadow-x").slider("option","value")+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+e;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",t)}else a(this).closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").hide(),a(this).closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").hide(),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow","none")}),a(".alp-control-textshadow-color").wpColorPicker({change:function(e,i){if(a(".alp-control-textshadow-enable").is(":checked")){var o=i.color.toString(),s,t,l,n=a(".alp-control-textshadow-x").slider("option","value")+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}else a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow","none")}}),a(".alp-control-textshadow-x").slider({min:-30,max:30,value:2,animate:"fast",change:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=i.value+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}},slide:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=i.value+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}}}),a(".alp-control-textshadow-x").find(".ui-slider-handle").text("2px"),a(".alp-control-textshadow-y").slider({min:-30,max:30,value:2,animate:"fast",change:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=a(".alp-control-textshadow-x").slider("option","value")+"px "+i.value+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}},slide:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=a(".alp-control-textshadow-x").slider("option","value")+"px "+i.value+"px "+a(".alp-control-textshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}}}),a(".alp-control-textshadow-y").find(".ui-slider-handle").text("2px"),a(".alp-control-textshadow-blur").slider({min:0,max:30,value:3,animate:"fast",change:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=a(".alp-control-textshadow-x").slider("option","value")+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+i.value+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}},slide:function(e,i){if(a(this).find(".ui-slider-handle").text(i.value+"px"),a(".alp-control-textshadow-enable").is(":checked")){var o=a("input.alp-control-textshadow-color").val(),s,t,l,n=a(".alp-control-textshadow-x").slider("option","value")+"px "+a(".alp-control-textshadow-y").slider("option","value")+"px "+i.value+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("textShadow",n)}}}),a(".alp-control-textshadow-blur").find(".ui-slider-handle").text("3px"),a(".alp-control-textshadow-color-hover").wpColorPicker(),a(".alp-control-textshadow-x-hover").slider({min:-30,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-textshadow-x-hover").find(".ui-slider-handle").text("2px"),a(".alp-control-textshadow-y-hover").slider({min:-30,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-textshadow-y-hover").find(".ui-slider-handle").text("2px"),a(".alp-control-textshadow-blur-hover").slider({min:0,max:30,value:3,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-textshadow-blur-hover").find(".ui-slider-handle").text("3px"),a(".alp-control-padding-top").slider({min:5,max:60,value:15,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-top",i.value)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-top",i.value)}}),a(".alp-control-padding-top").find(".ui-slider-handle").text("15px"),a(".alp-control-padding-right").slider({min:5,max:60,value:30,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-right",i.value)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-right",i.value)}}),a(".alp-control-padding-right").find(".ui-slider-handle").text("30px"),a(".alp-control-padding-bottom").slider({min:5,max:60,value:15,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-bottom",i.value)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-bottom",i.value)}}),a(".alp-control-padding-bottom").find(".ui-slider-handle").text("15px"),a(".alp-control-padding-left").slider({min:5,max:60,value:30,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-left",i.value)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("padding-left",i.value)}}),a(".alp-control-padding-left").find(".ui-slider-handle").text("30px"),a("body").on("click",".alp-control-boxshadow-enable",function(){if(a(this).is(":checked")){a(this).closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").show();var e=a("input.alp-control-boxshadow-color").val(),i,o,s,t=a(".alp-control-boxshadow-x").slider("option","value")+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+e;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",t)}else a(this).closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").hide(),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow","")}),a(".alp-control-boxshadow-color").wpColorPicker({change:function(e,i){var o=i.color.toString(),s,t,l,n=a(".alp-control-boxshadow-x").slider("option","value")+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)}}),a(".alp-control-boxshadow-x").slider({min:0,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=i.value+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=i.value+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)}}),a(".alp-control-boxshadow-x").find(".ui-slider-handle").text("2px"),a(".alp-control-boxshadow-y").slider({min:0,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=a(".alp-control-boxshadow-x").slider("option","value")+"px "+i.value+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=a(".alp-control-boxshadow-x").slider("option","value")+"px "+i.value+"px "+a(".alp-control-boxshadow-blur").slider("option","value")+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)}}),a(".alp-control-boxshadow-y").find(".ui-slider-handle").text("2px"),a(".alp-control-boxshadow-blur").slider({min:0,max:30,value:6,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=a(".alp-control-boxshadow-x").slider("option","value")+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+i.value+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px");var o=a("input.alp-control-boxshadow-color").val(),s,t,l,n=a(".alp-control-boxshadow-x").slider("option","value")+"px "+a(".alp-control-boxshadow-y").slider("option","value")+"px "+i.value+"px "+o;a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("boxShadow",n)}}),a(".alp-control-boxshadow-blur").find(".ui-slider-handle").text("3px"),a(".alp-control-padding-top-hover").slider({min:5,max:60,value:15,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-t",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-t",i.value+"px")}}),a(".alp-control-padding-top-hover").find(".ui-slider-handle").text("15px"),a(".alp-control-padding-right-hover").slider({min:5,max:60,value:30,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-r",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-r",i.value+"px")}}),a(".alp-control-padding-right-hover").find(".ui-slider-handle").text("30px"),a(".alp-control-padding-bottom-hover").slider({min:5,max:60,value:15,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-b",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-b",i.value+"px")}}),a(".alp-control-padding-bottom-hover").find(".ui-slider-handle").text("15px"),a(".alp-control-padding-left-hover").slider({min:5,max:60,value:30,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-l",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-padd-l",i.value+"px")}}),a(".alp-control-padding-left-hover").find(".ui-slider-handle").text("30px"),a(".alp-control-boxshadow-color-hover").wpColorPicker(),a(".alp-control-boxshadow-x-hover").slider({min:0,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-x",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-x",i.value+"px")}}),a(".alp-control-boxshadow-x-hover").find(".ui-slider-handle").text("2px"),a(".alp-control-boxshadow-y-hover").slider({min:0,max:30,value:2,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-y",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-y",i.value+"px")}}),a(".alp-control-boxshadow-y-hover").find(".ui-slider-handle").text("2px"),a(".alp-control-boxshadow-blur-hover").slider({min:0,max:30,value:6,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-blur",i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px"),a("#alp-btn-generator-preview").attr("data-hover-boxshadow-blur",i.value+"px")}}),a(".alp-control-boxshadow-blur-hover").find(".ui-slider-handle").text("3px"),a(".alp-control-border-radius").slider({min:1,max:360,value:15,animate:"fast",change:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("borderRadius",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("borderRadius",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-border-radius").find(".ui-slider-handle").text("15px"),a(".alp-control-border-width").slider({min:1,max:10,value:1,animate:"fast",change:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("borderWidth",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("borderWidth",i.value+"px"),a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-border-width").find(".ui-slider-handle").text("1px"),a(".alp-control-border-color").wpColorPicker({change:function(e,i){a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("borderColor",i.color.toString())}}),a(".alp-control-border-radius-hover").slider({min:1,max:360,value:15,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-border-radius-hover").find(".ui-slider-handle").text("15px"),a(".alp-control-border-width-hover").slider({min:1,max:10,value:1,animate:"fast",change:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")},slide:function(e,i){a(this).find(".ui-slider-handle").text(i.value+"px")}}),a(".alp-control-border-width-hover").find(".ui-slider-handle").text("1px"),a(".alp-control-border-color-hover").wpColorPicker(),a("body").on("click",".alp-control-background-type",function(){var e;if("bg-solid"==a("input.alp-control-background-type:checked").val()){var i=a("input.alp-control-bg-solid").val();a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("background",i),a(".alp-btn-generator-col-bg-top").animate({opacity:0},300,function(){})}else{a(".alp-btn-generator-col-bg-top").animate({opacity:1},300,function(){});var o=a("input.alp-control-bg-solid").val(),s,t="linear-gradient(to bottom, "+a("input.alp-control-bg-top").val()+" 0%,"+o+" 100%)";a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("background",t)}}),a(".alp-control-bg-solid").wpColorPicker({change:function(e,i){var o;if("bg-solid"==a("input[name=alp-control-background-type]:checked").val())a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("background",i.color.toString());else{var s=i.color.toString(),t,l="linear-gradient(to bottom, "+a("input.alp-control-bg-top").val()+" 0%,"+s+" 100%)";a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("background",l)}}}),a(".alp-control-bg-top").wpColorPicker({change:function(e,i){var o;if("bg-gradient"==a("input[name=alp-control-background-type]:checked").val()){var s=a("input.alp-control-bg-solid").val(),t,l="linear-gradient(to bottom, "+i.color.toString()+" 0%,"+s+" 100%)";a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("background",l)}}}),a("body").on("click",".alp-control-background-type-hover",function(){var e;"bg-solid"==a(this).val()?a(".alp-btn-generator-col-bg-top").animate({opacity:0},300,function(){}):a(".alp-btn-generator-col-bg-top").animate({opacity:1},300,function(){})}),a(".alp-control-bg-solid-hover").wpColorPicker(),a(".alp-control-bg-top-hover").wpColorPicker()),a("#dialog-confirm-update-btn").dialog({resizable:!1,draggable:!1,height:"auto",width:400,modal:!0,autoOpen:!1,show:{effect:"highlight",duration:1500},hide:{effect:"fade",duration:1e3},position:{my:"center",at:"center",of:a("#amalinkspro-media-window")},appendTo:"#amalinkspro-media-window",buttons:{"Update CTA Button":function(){var e;a(this).dialog("close"),f(a(".alp-button-id").val())},Cancel:function(){a(this).dialog("close")}}}),a("#dialog-btn-saved").dialog({resizable:!1,draggable:!1,height:"auto",width:400,modal:!0,autoOpen:!1,show:{effect:"highlight",duration:1500},hide:{effect:"fade",duration:1e3},position:{my:"center",at:"center",of:a("#amalinkspro-media-window")},appendTo:"#amalinkspro-media-window",buttons:{"Use this Button":function(){k()},"Continue Editing":function(){a(this).dialog("close")}}}),a("body").on("click",".js-amalinkspro-save-cta-btn",function(){var e;if(""===(e=a("input.alp-button-id-next").val()))var e="0",i="1";else var o=e,i=parseInt(e)+1;f(o),a("input.alp-button-id").val(o),a("input.alp-button-id-next").val(i)}),a("body").on("click",".js-amalinkspro-update-cta-btn",function(){a("#dialog-confirm-update-btn").dialog("open");var e,i=a("input.alp-button-id").val()}),a("body").on("click",".js-amalinkspro-load-cta-btn",function(){w()}),a("body").on("click",".amalinkspro-close-cta-button-choser",function(e,i){a("#alp_load_editor_cta_buttons").html("")}),a("body").on("click",".amalinkspro-js-load-btn",function(e,i){var o=a(this).closest(".alp-button-id").attr("data-btn-id"),s={action:"amalinkspro_get_cta_button_styles",btn_id:o};a.ajax({type:"POST",url:ajaxurl,data:s,success:function(e){a(".alp-btn-generator-controls input.alp-button-id").val(o);var i=JSON.parse(e),s=i.background["bg-type"],t=i.background["bg-type-h"],l=i.background["bg-solid-color"],n=i.background["bg-solid-color-h"],r=i.background["bg-top-color"],p=i.background["bg-top-color-h"],c=i.border["border-color"],d=i.border["border-color-h"],m=i.border["border-radius"],h=i.border["border-radius-h"],v=i.border["border-width"],g=i.border["border-width-h"],u=i.box["boxshadow-enable"],k=i.box["boxshadow-blur"],f=i.box["boxshadow-blur-h"],w=i.box["boxshadow-color"],b=i.box["boxshadow-color-h"],x=i.box["boxshadow-x"],y=i.box["boxshadow-x-h"],C=i.box["boxshadow-y"],I=i.box["boxshadow-y-h"],_=i.box["padding-t"],P=i.box["padding-t-h"],L=i.box["padding-r"],S=i.box["padding-r-h"],j=i.box["padding-b"],R=i.box["padding-b-h"],U=i.box["padding-l"],A=i.box["padding-l-h"],T=i.text["font-color"],z=i.text["font-color-h"],O=i.text["font-family-type"],D=i.text["font-family"],M=i.text["font-family-google"],E=i.text["font-size-h"],N=i.text["font-size"],B=i.text["textshadow-enable"],H=i.text["textshadow-blur"],V=i.text["textshadow-blur-h"],F=i.text["textshadow-color"],Y=i.text["textshadow-color-h"],W=i.text["textshadow-x"],q=i.text["textshadow-x-h"],G=i.text["textshadow-y"],J=i.text["textshadow-y-h"];O?(a(".alp-control-enable-googlefonts").prop("checked",!0),a(".system-select-wrapper").hide(),a(".google-select-wrapper").show()):(a(".alp-control-enable-googlefonts").prop("checked",!1),a(".system-select-wrapper").show(),a(".google-select-wrapper").hide()),a(".alp-control-font-family-system").val(D).change(),a(".alp-control-font-family-google").val(M).change(),a(".alp-control-font-size").slider("value",E),a(".alp-control-font-size-h").slider("value",N),a(".alp-control-font-color").val(T).change(),a(".alp-control-font-color-h").val(z).change(),"on"==B?(a(".alp-control-textshadow-enable").is(":checked")||a(".alp-control-textshadow-enable").prop("checked",!0),a(".alp-control-textshadow-enable").closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").show(),a(".alp-control-textshadow-enable").closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").show()):(a(".alp-control-textshadow-enable").prop("checked",!1),a(".alp-control-textshadow-enable").closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").hide(),a(".alp-control-textshadow-enable").closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").hide(),a("#alp-btn-generator-preview").find(".alp-css-button-generator-preview").css("texShadow","none")),a(".alp-control-textshadow-color").val(F).change(),a(".alp-control-textshadow-color-h").val(Y).change(),a(".alp-control-textshadow-x").slider("value",W),a(".alp-control-textshadow-x-hover").slider("value",q),a(".alp-control-textshadow-y").slider("value",G),a(".alp-control-textshadow-y-hover").slider("value",J),a(".alp-control-textshadow-blur").slider("value",H),a(".alp-control-textshadow-blur-hover").slider("value",V),a(".alp-control-background-type[value="+s+"]").prop("checked",!0),a(".alp-control-background-type-hover[value="+t+"]").prop("checked",!0),a(".alp-control-bg-solid").val(l).change(),a(".alp-control-bg-solid-hover").val(n).change(),a(".alp-control-bg-top").val(r).change(),a(".alp-control-bg-top-hover").val(p).change(),a(".alp-control-border-color").val(c).change(),a(".alp-control-border-color-hover").val(d).change(),a(".alp-control-border-radius").slider("value",m),a(".alp-control-border-radius-hover").slider("value",h),a(".alp-control-border-width").slider("value",v),a(".alp-control-border-width-hover").slider("value",g),"on"==u&&a(".alp-control-boxshadow-enable").prop("checked",!0),"on"==u?(a(".alp-control-boxshadow-enable").is(":checked")||a(".alp-control-boxshadow-enable").prop("checked",!0),a(".alp-control-boxshadow-enable").closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").show(),a(".alp-control-boxshadow-enable").closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").show()):(a(".alp-control-boxshadow-enable").prop("checked",!1),a(".alp-control-boxshadow-enable").closest(".alp-btn-generator-controls-section-body-bottom").find(".alp-btn-generator-col-hidden").hide(),a(".alp-control-boxshadow-enable").closest(".alp-btn-generator-controls-section-body").find(".alp-btn-generator-controls-section-body-hover-bottom").find(".alp-btn-generator-col-hidden").hide()),a(".alp-control-boxshadow-blur").slider("value",k),a(".alp-control-boxshadow-blur-hover").slider("value",f),a(".alp-control-boxshadow-color").val(w).change(),a(".alp-control-boxshadow-color-hover").val(b).change(),a(".alp-control-boxshadow-x").slider("value",x),a(".alp-control-boxshadow-x-hover").slider("value",x),a(".alp-control-boxshadow-y").slider("value",C),a(".alp-control-boxshadow-y-hover").slider("value",I),a(".alp-control-padding-top").slider("value",_),a(".alp-control-padding-top-hover").slider("value",P),a(".alp-control-padding-right").slider("value",L),a(".alp-control-padding-right-hover").slider("value",S),a(".alp-control-padding-bottom").slider("value",j),a(".alp-control-padding-bottom-hover").slider("value",R),a(".alp-control-padding-left").slider("value",U),a(".alp-control-padding-left-hover").slider("value",A)},complete:function(e){a("#amalinkspro-choose-cta-btn").fadeOut(600,function(){a("#amalinkspro-choose-cta-btn").html("")}),a("#alp-btn-generator-preview").fadeIn(200),a(".alp-btn-generator").fadeIn(200),a(".amalinkspro-cta-btn-manage .save-cta-btn.update-btn").addClass("btn-shown"),a(".amalinkspro-cta-btn-manage .save-cta-btn.save-btn").addClass("btn-shown")}})}),
a("body").on("click",".amalinkspro-js-googlefont-info, .amalinkspro-close-tooltip",function(e,i){a(this).closest(".amalinkspro-tooltip-wrap").find(".amalinkspro-tooltip").toggleClass("amalinkspro-tooltip-open")}),a("body").on("click",".alp-showcase-functions-choose",function(e,i){var o=a(this).attr("data-showcase-id");a(".amalinkspro-linktype-preview-showcase").attr("data-alp-showcase-id",o),a(".amalinkspro-showcase-preview").addClass("not-selected"),a(this).closest(".amalinkspro-showcase-preview").removeClass("not-selected"),a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2')}),a("body").on("click",".alp-showcase-functions-arrange",function(e,i){var o,s;a(this).closest(".amalinkspro-showcase-preview").find(".amalinkspro-chosen-product-stats-col li").each(function(e,i){var o=a(i)})});var R=function(){var e=a("<input>",{val:a(this).text(),type:"text"});a(this).replaceWith(e),e.on("blur",U),e.select()},U=function(){var e=a("<span>",{text:a(this).val()});e.addClass("alp-showcase-spec-val-editable"),a(this).replaceWith(e),e.append('<i class="icon-amalinkspro-edit" title="Edit Specification"></i>'),e.on("click",R)};a("body").on("click",".alp-showcase-spec-val-editable",R),a("body").on("keyup",".enabled-spec input",function(e){var i;if(13===e.which){var o=a("<span>",{text:a(this).val()});o.addClass("alp-showcase-spec-val-editable"),a(this).replaceWith(o),o.append('<i class="icon-amalinkspro-edit" title="Edit Specification"></i>'),o.on("click",R)}});var A=function(){var e=a("<input>",{val:a(this).text(),type:"text"});e.addClass("alp-showcase-spec-val-editable-textarea"),e.attr("name","alp-showcase-spec-val-editable-textarea"),a(this).replaceWith(e),e.on("blur",T),e.select()},T=function(){var e=a("<span>",{text:a(this).val()});e.addClass("alp-showcase-title alp-showcase-spec-val-editable-textarea"),a(this).replaceWith(e),e.append('<i class="icon-amalinkspro-edit" title="Edit Showcase Title"></i>'),e.on("click",A),a(".alp-showcase-1-title-col").matchHeight({byRow:!1}),a(".alp-showcase-2-title-col").matchHeight({byRow:!1}),a(".alp-showcase-3-title-col").matchHeight({byRow:!1})};a(".alp-showcase-spec-val-editable-textarea").on("click",A),a("body").on("keyup","input.alp-showcase-spec-val-editable-textarea",function(e){var i;if(13==e.which){var o=a("<span>",{text:a(this).val()});o.addClass("alp-showcase-title alp-showcase-spec-val-editable-textarea"),a(this).replaceWith(o),o.append('<i class="icon-amalinkspro-edit" title="Edit Showcase Title"></i>'),o.on("click",A),a(".alp-showcase-1-title-col").matchHeight({byRow:!1}),a(".alp-showcase-2-title-col").matchHeight({byRow:!1}),a(".alp-showcase-3-title-col").matchHeight({byRow:!1})}});var z=function(){var e=a("<input>",{val:a(this).text(),type:"text"});e.addClass("alp-showcase-amalink-editable"),e.attr("name","alp-showcase-amalink-editable"),a(this).replaceWith(e),e.on("blur",O),e.select()},O=function(){var e=a("<span>",{text:a(this).val()});e.addClass("alp-showcase-amalink-editable"),a(this).replaceWith(e),e.append('<i class="icon-amalinkspro-edit" title="Edit Button Text"></i>'),e.on("click",z),a(".alp-showcase-1-title-col").matchHeight({byRow:!1}),a(".alp-showcase-2-title-col").matchHeight({byRow:!1}),a(".alp-showcase-3-title-col").matchHeight({byRow:!1})};a(".alp-showcase-amalink-editable").on("click",z),a("body").on("keyup","input.alp-showcase-amalink-editable",function(e){var i;if(13==e.which){var o=a("<span>",{text:a(this).val()});o.addClass("alp-showcase-amalink-editable"),a(this).replaceWith(o),o.append('<i class="icon-amalinkspro-edit" title="Edit Button Text"></i>'),o.on("click",z),a(".alp-showcase-1-title-col").matchHeight({byRow:!1}),a(".alp-showcase-2-title-col").matchHeight({byRow:!1}),a(".alp-showcase-3-title-col").matchHeight({byRow:!1})}}),a("body").on("click",".amalinkspro-showcase .amalinkspro-chosen-item-previewlink",function(a){a.preventDefault()}),a(function(){"function"==typeof sortable&&(a(".amalinkspro-chosen-product-stats-col-1").sortable({connectWith:".amalinkspro-chosen-product-stats-col-2"}),a(".amalinkspro-chosen-product-stats-col-2").sortable({connectWith:".amalinkspro-chosen-product-stats-col-1"}))}),a("body").on("click","i.icon-amalinkspro-eye",function(e,i){if(a(this).toggleClass("icon-amalinkspro-eye icon-amalinkspro-eye-off"),a(this).closest(".amalinkspro-showcase-preview").hasClass("amalinkspro-showcase-4")){var o=a(this).closest(".amalinkspro-linktype-preview-showcase");a(this).hasClass("hide-feature")&&a(this).closest("li").animate({opacity:.3},200,function(){}).removeClass("enabled-spec"),a(this).hasClass("hide-prime")&&(a(this).closest(".top-prime-logo").addClass("hide-prime-image"),a(this).closest(".top-prime-logo").find(".alp-prime-eligible-tag, i").animate({opacity:.3},200,function(){}),a(this).closest(".amalinkspro-showcase-preview").find(".amalinkspro-showcase-bottom-cta .alp-prime-eligible-tag").fadeOut(),o.attr("data-alp-hide-prime","1")),a(this).hasClass("hide-image")&&(a(this).closest(".amalinkspro-showcase-stats-col-img").animate({opacity:.3},200,function(){}).addClass("hide-amazon-image"),a(this).closest(".amalinkspro-showcase-stats-col-img").find(".js-edit-showcase-image").hide(),a(this).closest(".amalinkspro-showcase-stats-col-img").next().find(".alp-showcase-title").addClass("hide-amazon-image"),o.attr("data-alp-hide-image","1")),a(this).hasClass("hide-reviews")&&(a(this).closest(".showcase-4-reviews").animate({opacity:.3},200,function(){}).addClass("hide-amazon-reviews"),o.attr("data-alp-hide-reviews","1")),a(this).hasClass("hide-price")&&(a(this).closest(".amalinkspro-showcase-bottom-cta-price").animate({opacity:.3},200,function(){}).addClass("hide-amazon-price"),o.find(".alp-prices-accuracy").fadeOut(200),o.find(".alp-prices-discalimer").fadeOut(200),o.attr("data-alp-hide-price","1")),a(this).hasClass("hide-showcase-button")&&(a(this).closest(".amalinkspro-showcase-bottom-cta").find(".amalinkspro-showcase-bottom-cta-link").animate({opacity:.3},200,function(){}).addClass("hide-amazon-button"),o.attr("data-alp-hide-button","1"))}a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}),a("body").on("click","i.icon-amalinkspro-eye-off",function(e,i){if(a(this).toggleClass("icon-amalinkspro-eye icon-amalinkspro-eye-off"),a(this).closest(".amalinkspro-showcase-preview").hasClass("amalinkspro-showcase-4")){var o=a(this).closest(".amalinkspro-linktype-preview-showcase");a(this).hasClass("hide-feature")&&a(this).closest("li").animate({opacity:1},100,function(){}).addClass("enabled-spec"),a(this).hasClass("hide-prime")&&(a(this).closest(".top-prime-logo").removeClass("hide-prime-image"),a(this).closest(".top-prime-logo").find(".alp-prime-eligible-tag, i").animate({opacity:1},200,function(){}),a(this).closest(".amalinkspro-showcase-preview").find(".amalinkspro-showcase-bottom-cta .alp-prime-eligible-tag").fadeIn(),o.attr("data-alp-hide-prime","0")),a(this).hasClass("hide-image")&&(a(this).closest(".amalinkspro-showcase-stats-col-img").animate({opacity:1},200,function(){}).removeClass("hide-amazon-image"),a(this).closest(".amalinkspro-showcase-stats-col-img").find(".js-edit-showcase-image").show(),a(this).closest(".amalinkspro-showcase-stats-col-img").next().find(".alp-showcase-title").removeClass("hide-amazon-image"),o.attr("data-alp-hide-image","0")),a(this).hasClass("hide-reviews")&&(a(this).closest(".showcase-4-reviews").animate({opacity:1},200,function(){}).removeClass("hide-amazon-reviews"),o.attr("data-alp-hide-reviews","0")),a(this).hasClass("hide-price")&&(a(this).closest(".amalinkspro-showcase-bottom-cta-price").animate({opacity:1},200,function(){}).removeClass("hide-amazon-price"),o.find(".alp-prices-accuracy").fadeIn(200),o.attr("data-alp-hide-price","0")),a(this).hasClass("hide-showcase-button")&&(a(this).closest(".amalinkspro-showcase-bottom-cta").find(".amalinkspro-showcase-bottom-cta-link").animate({opacity:1},200,function(){}).removeClass("hide-amazon-button"),o.attr("data-alp-hide-button","0"))}a(".alp-step3-final-preview .amalinkspro-linktype-preview").length&&(a(".alp-step3-final-preview").find(".amalinkspro-linktype-preview-showcase").remove(),a(".alp-step-3").removeClass(".alp-step-active").addClass("alp-step-disabled"),a(".alp-step-2").html('<i class="icon-amalinkspro-edit"></i> Step 2'))}),a("body").on("click",".js-edit-showcase-image",function(e,i){a("#alp-hidden-img-choices-showcase-3").find(".amalinkspro-choose-api-image").matchHeight(),a(".alp-hidden-img-chooser").fadeIn(300);var o=a(this).attr("data-api-img");a(".alp-hidden-img-chooser .amalinkspro-choose-api-image").each(function(e,i){var s=a(this).attr("data-api-img");o===s&&a(this).addClass("amalinkspro-chosen-api-img")}),a(this).closest(".alp-showcase-img-wrap").find(".amalinkspro-chosen-product-main-img").addClass("alp-img-swap-ready")}),a("body").on("click",".amalinkspro-close-showcase-img-chooser",function(e,i){a(".alp-hidden-img-chooser").fadeOut(300)}),a("body").on("click",".alp-hidden-img-chooser .amalinkspro-choose-api-image",function(e,i){a(".alp-hidden-img-chooser .amalinkspro-choose-api-image").removeClass("amalinkspro-chosen-api-img"),a(this).addClass("amalinkspro-chosen-api-img"),b()}),a("body").on("click",".alp-hidden-img-chooser .alp-showcase-select-img",function(a,e){b()});var D=a(".js-amalinkspro-settings-form");a("body").on("change",".js-amalinkspro-settings-form .amalinkspro-settings-control-checkbox",function(){var e=a(this),i,o;if(e.closest(".amalinkspro-settings-form-block").find(".option-message").html("<span>Saving your setting ...</span>").show().addClass("option-message-saving"),e.is(":checked"))var s=1;else var s=0;x({action:"amalinkspro_save_setting",setting_meta_name:e.attr("name"),setting_meta_val:s},e)}),a("body").on("click",".alp-js-noapi-image",function(e,i){a(".alp-steps-counter .alp-step").removeClass("alp-noapi-showcase"),a(".alp-steps-counter .alp-step").removeClass("alp-noapi-ctabutton"),a(".alp-step-3").addClass("alp-step-disabled"),a(".alp-step-2").addClass("alp-step-active alp-noapi alp-noapi-image"),a(".alp-step-1").addClass("alp-noapi alp-noapi-image").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a(".alp-step-3").addClass("alp-noapi alp-noapi-image"),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-noapi-2").addClass("on-display alp-step-wrap-active").show(),a(".alp-step-2").removeClass("alp-step-disabled"),a("#amalinkspro-media-window-content").animate({scrollTop:0},0)}),a("body").on("click",".alp-js-noapi-showcase",function(e,i){a(".alp-steps-counter .alp-step").removeClass("alp-noapi-image"),a(".alp-steps-counter .alp-step").removeClass("alp-noapi-ctabutton"),a(".alp-step-3").addClass("alp-step-disabled"),a(".alp-step-2").addClass("alp-step-active alp-noapi alp-noapi-showcase"),a(".alp-step-1").addClass("alp-noapi alp-noapi-showcase").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a(".alp-step-3").addClass("alp-noapi alp-noapi-showcase"),a("#alp-step-2 .amalinkspro-chosen-product").hide(),a("#alp-step-2 .amalinkspro-choose-link-type-wrap").hide(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-2").addClass("on-display alp-step-wrap-active").show(),a("amalinkspro-linktype-preview-cta-link").hide(),a(".amalinkspro-linktype-preview-showcase").show(),a('.js-amalinkspro-choose-link-type[data-link-type="showcase"]').click(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled"),a(".amalinkspro-final-step-btn").addClass("final-step-noapi-showcase")}),a("body").on("click",".alp-js-noapi-ctabutton",function(e,i){console.log("nonapi cta button clicked"),a(".alp-steps-counter .alp-step").removeClass("alp-noapi-image"),a(".alp-steps-counter .alp-step").removeClass("alp-noapi-showcase"),a(".alp-step-3").addClass("alp-step-disabled"),a(".alp-step-2").addClass("alp-step-active alp-noapi alp-noapi-ctabutton"),a(".alp-step-1").addClass("alp-noapi alp-noapi-ctabutton").removeClass("alp-step-active").html('<i class="icon-amalinkspro-search"></i> Back to Step 1'),a(".alp-step-3").addClass("alp-noapi alp-noapi-ctabutton"),a("#alp-step-2 .amalinkspro-chosen-product").hide(),a("#alp-step-2 .amalinkspro-choose-link-type-wrap").hide(),a("#alp-step-1").removeClass("alp-step-wrap-active").hide(),a("#alp-step-2").addClass("on-display alp-step-wrap-active").show(),a("amalinkspro-linktype-preview-showcase").hide(),a("amalinkspro-linktype-preview-cta-link").show(),a('.js-amalinkspro-choose-link-type[data-link-type="cta-link"]').click(),a("#amalinkspro-media-window-content").animate({scrollTop:0},0),a(".alp-step-2").removeClass("alp-step-disabled"),a(".amalinkspro-final-step-btn").addClass("final-step-noapi-ctabutton")}),a("body").on("click",".alp-insert-sitestripe-showcase",function(e,i){var o=a("#alp-noapi-showcaseimage-code-field").val();console.log("hey."),console.log("img_code: "+o),o?(a(".alp-showcase-img-wrap").html('<i class="icon-amalinkspro-edit js-edit-showcase-image" data-api-img=""></i>'),a(".alp-showcase-img-wrap").append(o),a(".alp-showcase-img-wrap").removeClass("alp-noapi-showcase-img")):(a(".alp-showcase-img-wrap").html('<i class="icon-amalinkspro-edit js-edit-showcase-image" data-api-img=""></i>'),a(".alp-showcase-img-wrap").addClass("alp-noapi-showcase-img")),a(".amalinkspro-close-showcase-img-chooser").click()}),a("body").on("click",".js-reset-nonapi-showcase",function(e,i){var o=a(".amalinkspro-showcase-preview");o.find(".alp-showcase-img-wrap").html('<i class="icon-amalinkspro-edit js-edit-showcase-image" data-api-img=""></i>'),o.find(".alp-showcase-img-wrap").addClass("alp-noapi-showcase-img"),o.find(".amalinkspro-showcase-4-titlebox").find(".alp-showcase-title").html('Enter a Custom Product Name Here<i class="icon-amalinkspro-edit" title="Edit Showcase Title"></i>'),o.find(".showcase-4-features").html('<ul><li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Add custom text here<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li><li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Add custom text here<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li><li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Add custom text here<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li><li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Add custom text here<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li><li class="enabled-spec"><span class="alp-showcase-spec-val-editable">Add custom text here<i class="icon-amalinkspro-edit" title="Edit Specification"></i></span><i class="hide-feature icon-amalinkspro-eye"></i></li><li class="enabled-spec add-showcase-feature"><i class="alp-add-feature icon-amalinkspro-plus"></i></li></ul>'),o.find(".amalinkspro-showcase-bottom-cta-link").find(".alp-showcase-amalink-editable").html('View on Amazon<i class="icon-amalinkspro-edit" title="Edit Button Text"></i></span>'),a("#alp-showcase-noapi-link").val(""),a("#alp-noapi-showcaseimage-code-field").val("")})})}($);