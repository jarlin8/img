(()=>{var a;a=jQuery,tinymce.PluginManager.add("aawp",(function(a,e){a.addButton("aawp",{classes:"aawp-insert-button",image:aawp_classic_editor_data.icon_url,tooltip:"AAWP"})})),a((function(){var e=function(){a("#aawp-modal-display-variant").length&&(a("#aawp-modal-display-variant").get(0).selectedIndex=0,a("#aawp-modal-asin-input, #aawp-modal-keywords-input").val(""),a("#aawp-modal-asin-input-container, #aawp-modal-keywords-input-container, #aawp-modal-value-select-container, #aawp-modal-items-input-container, #aawp-modal-comparison-table-container").css("display","none")),a("#aawp-modal-backdrop, #aawp-modal-wrap").css("display","none"),a(document.body).removeClass("modal-open")};a(document).on("click",".mce-aawp-insert-button",(function(e){e.preventDefault(),a("#aawp-modal-backdrop, #aawp-modal-wrap").css("display","block"),a(document.body).addClass("modal-open")})),a(document).on("click","#aawp-modal-close, #aawp-modal-cancel a",(function(a){a.preventDefault(),e()})),a(document).on("change","#aawp-modal-display-variant",(function(e){e.preventDefault();var n=a("#aawp-modal-display-variant").val();["box","link","fields"].includes(n)?(a("#aawp-modal-asin-input-container").css("display","block"),a("#aawp-modal-keywords-input-container, #aawp-modal-value-select-container, #aawp-modal-items-input-container, #aawp-modal-comparison-table-container").css("display","none"),"fields"===n&&a("#aawp-modal-value-select-container").css("display","block")):"bestseller"===n||"new"===n?("bestseller"===n?a("#aawp-modal-items-input").val(aawp_classic_editor_data.default_items.bestseller):a("#aawp-modal-items-input").val(aawp_classic_editor_data.default_items.new_releases),a("#aawp-modal-keywords-input-container").css("display","block"),a("#aawp-modal-items-input-container").css("display","block"),a("#aawp-modal-asin-input-container, #aawp-modal-value-select-container, #aawp-modal-comparison-table-container").css("display","none")):"table"===n?(a("#aawp-modal-comparison-table-container").css("display","block"),a("#aawp-modal-asin-input-container, #aawp-modal-value-select-container, #aawp-modal-keywords-input-container, #aawp-modal-value-select-container").css("display","none")):a("#aawp-modal-asin-input-container, #aawp-modal-keywords-input-container, #aawp-modal-value-select-container, #aawp-modal-value-select-container, #aawp-modal-comparison-table-container").css("display","none")})),a(document).on("click","#aawp-modal-submit",(function(n){var l;n.preventDefault();var o,t=a("#aawp-modal-display-variant").val();"box"===t||"link"===t||"fields"===t?o=a("#aawp-modal-asin-input").val():"bestseller"===t||"new"===t?o=a("#aawp-modal-keywords-input").val():"table"===t&&(o=a("#aawp-modal-comparison-table").val()),""!==t&&"undefined"!==o&&(l="["+aawp_classic_editor_data.shortcode+" "+t+' ="'+o+'"',"bestseller"===t||"new"===t?l=l+' items="'+a("#aawp-modal-items-input").val()+'"':"fields"===t&&(l=l+' value="'+a("#aawp-modal-value-select").val()+'"'),l+="]",wp.media.editor.insert(l),e())}))}))})();